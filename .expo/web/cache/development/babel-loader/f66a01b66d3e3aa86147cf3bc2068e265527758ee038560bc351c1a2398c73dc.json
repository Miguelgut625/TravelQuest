{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\migue\\\\miguel\\\\TravelQuest\\\\src\\\\screens\\\\main\\\\JournalScreen.tsx\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Ionicons } from '@expo/vector-icons';\nimport { setRefreshJournal } from '../../features/journalSlice';\nimport { useNavigation } from '@react-navigation/native';\nimport { supabase } from '../../services/supabase';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst JournalEntryCard = ({\n  entry\n}) => _jsxDEV(TouchableOpacity, {\n  style: styles.card,\n  children: [_jsxDEV(Text, {\n    style: styles.cardTitle,\n    children: entry.title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this), _jsxDEV(Text, {\n    style: styles.cardDate,\n    children: new Date(entry.created_at).toLocaleDateString()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this), entry.missionId && _jsxDEV(View, {\n    style: styles.missionBadge,\n    children: [_jsxDEV(Ionicons, {\n      name: \"trophy\",\n      size: 16,\n      color: \"#4CAF50\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this), _jsxDEV(Text, {\n      style: styles.missionBadgeText,\n      children: \"Misi\\xF3n Completada\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 7\n  }, this), _jsxDEV(Text, {\n    style: styles.cardContent,\n    numberOfLines: 3,\n    children: entry.content\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this), entry.photos && entry.photos.length > 0 && _jsxDEV(View, {\n    style: styles.photoGrid,\n    children: [entry.photos.slice(0, 3).map((photo, index) => _jsxDEV(Image, {\n      source: {\n        uri: photo\n      },\n      style: styles.thumbnail,\n      resizeMode: \"cover\"\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }, this)), entry.photos.length > 3 && _jsxDEV(View, {\n      style: styles.morePhotos,\n      children: _jsxDEV(Text, {\n        style: styles.morePhotosText,\n        children: [\"+\", entry.photos.length - 3]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 7\n  }, this), _jsxDEV(View, {\n    style: styles.tags,\n    children: entry.tags && entry.tags.map((tag, index) => _jsxDEV(Text, {\n      style: styles.tag,\n      children: [\"#\", tag]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 31,\n  columnNumber: 3\n}, this);\nconst EmptyState = ({\n  message\n}) => _jsxDEV(View, {\n  style: styles.emptyContainer,\n  children: [_jsxDEV(Ionicons, {\n    name: \"journal-outline\",\n    size: 64,\n    color: \"#ccc\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this), _jsxDEV(Text, {\n    style: styles.emptyText,\n    children: message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 71,\n  columnNumber: 3\n}, this);\nconst CityCard = ({\n  city,\n  entries,\n  onPress\n}) => {\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  const [nextImageIndex, setNextImageIndex] = useState(1);\n  const slideAnim = useRef(new Animated.Value(0)).current;\n  const allPhotos = entries.reduce((photos, entry) => {\n    if (entry.photos && entry.photos.length > 0) {\n      return [...photos, ...entry.photos];\n    }\n    return photos;\n  }, []);\n  const animateSlide = () => {\n    slideAnim.setValue(0);\n    Animated.timing(slideAnim, {\n      toValue: 1,\n      duration: 600,\n      useNativeDriver: true\n    }).start(() => {\n      setCurrentImageIndex(nextImageIndex);\n      setNextImageIndex((nextImageIndex + 1) % allPhotos.length);\n      slideAnim.setValue(0);\n    });\n  };\n  useEffect(() => {\n    if (allPhotos.length <= 1) return;\n    const interval = setInterval(() => {\n      animateSlide();\n    }, 4000);\n    return () => clearInterval(interval);\n  }, [allPhotos.length, nextImageIndex]);\n  return _jsxDEV(TouchableOpacity, {\n    style: styles.cityCard,\n    onPress: onPress,\n    children: [allPhotos.length > 0 ? _jsxDEV(_Fragment, {\n      children: [_jsxDEV(View, {\n        style: styles.carouselContainer,\n        children: [_jsxDEV(Animated.View, {\n          style: [styles.imageContainer, {\n            transform: [{\n              translateX: slideAnim.interpolate({\n                inputRange: [0, 1],\n                outputRange: [0, -Dimensions.get('window').width]\n              })\n            }]\n          }],\n          children: _jsxDEV(Image, {\n            source: {\n              uri: allPhotos[currentImageIndex]\n            },\n            style: styles.cityCardBackground,\n            resizeMode: \"cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), _jsxDEV(Animated.View, {\n          style: [styles.imageContainer, {\n            transform: [{\n              translateX: slideAnim.interpolate({\n                inputRange: [0, 1],\n                outputRange: [Dimensions.get('window').width, 0]\n              })\n            }]\n          }],\n          children: _jsxDEV(Image, {\n            source: {\n              uri: allPhotos[nextImageIndex]\n            },\n            style: styles.cityCardBackground,\n            resizeMode: \"cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this), allPhotos.length > 1 && _jsxDEV(View, {\n        style: styles.carouselDots,\n        children: allPhotos.map((_, index) => _jsxDEV(View, {\n          style: [styles.dot, index === currentImageIndex && styles.activeDot]\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true) : _jsxDEV(View, {\n      style: styles.noImageBackground,\n      children: _jsxDEV(Ionicons, {\n        name: \"image-outline\",\n        size: 32,\n        color: \"#666\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }, this), _jsxDEV(View, {\n      style: styles.cityCardContent,\n      children: _jsxDEV(View, {\n        style: styles.textContainer,\n        children: [_jsxDEV(Ionicons, {\n          name: \"location\",\n          size: 32,\n          color: \"#fff\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.cityName,\n          children: city\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.viewMissionsText,\n          children: [\"Ver misiones (\", entries.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n};\nconst transformEntryToCityJournalEntry = entry => {\n  return {\n    id: entry.id,\n    userId: entry.userid,\n    cityId: entry.cityid,\n    title: entry.title,\n    content: entry.content,\n    photos: entry.photos || [],\n    location: null,\n    created_at: entry.created_at,\n    tags: entry.tags || [],\n    city_name: entry.cities?.name || 'Sin ciudad'\n  };\n};\nconst fetchWithRetry = async (fn, maxRetries = 3) => {\n  for (let i = 0; i < maxRetries; i++) {\n    try {\n      return await fn();\n    } catch (error) {\n      if (i === maxRetries - 1) throw error;\n      await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1)));\n    }\n  }\n};\nconst JournalScreen = ({\n  route\n}) => {\n  const [selectedCity, setSelectedCity] = useState(null);\n  const [entriesByCity, setEntriesByCity] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [viewMode, setViewMode] = useState('cities');\n  const {\n    user\n  } = useSelector(state => state.auth);\n  const {\n    shouldRefresh\n  } = useSelector(state => state.journal);\n  const dispatch = useDispatch();\n  const navigation = useNavigation();\n  useEffect(() => {\n    fetchJournalEntries();\n    const journalSubscription = supabase.channel('journal_changes').on('postgres_changes', {\n      event: '*',\n      schema: 'public',\n      table: 'journal_entries',\n      filter: `userid=eq.${user?.id}`\n    }, payload => {\n      console.log('Cambio detectado en el diario:', payload);\n      fetchJournalEntries();\n    }).subscribe();\n    return () => {\n      supabase.removeChannel(journalSubscription);\n    };\n  }, []);\n  useEffect(() => {\n    if (shouldRefresh) {\n      console.log('Actualizando entradas del diario debido a nueva misión completada');\n      fetchJournalEntries();\n      dispatch(setRefreshJournal(false));\n    }\n  }, [shouldRefresh]);\n  useEffect(() => {\n    if (route.params?.refresh) {\n      console.log('Actualizando entradas del diario debido a nueva misión completada');\n      fetchJournalEntries();\n      if (navigation.setParams) {\n        navigation.setParams({\n          refresh: undefined\n        });\n      }\n    }\n  }, [route.params?.refresh]);\n  const fetchJournalEntries = async () => {\n    if (!user?.id) {\n      setError('Usuario no autenticado');\n      setLoading(false);\n      return;\n    }\n    try {\n      setLoading(true);\n      const {\n        data: tableInfo,\n        error: tableError\n      } = await supabase.from('journal_entries').select('*').limit(1);\n      if (tableError) {\n        console.error('Error al verificar la estructura de la tabla:', tableError);\n        throw tableError;\n      }\n      let data;\n      let error;\n      const {\n        data: data1,\n        error: error1\n      } = await supabase.from('journal_entries').select(`\n          *,\n          cities (\n            name\n          )\n        `).eq('userid', user.id).order('created_at', {\n        ascending: false\n      });\n      if (!error1) {\n        data = data1;\n      } else {\n        console.log('Primer intento fallido, probando alternativa:', error1);\n        const {\n          data: data2,\n          error: error2\n        } = await supabase.from('journal_entries').select('*').eq('userid', user.id).order('created_at', {\n          ascending: false\n        });\n        if (!error2) {\n          data = data2;\n        } else {\n          console.log('Segundo intento fallido:', error2);\n          error = error2;\n        }\n      }\n      if (error) throw error;\n      if (!data) throw new Error('No se pudieron obtener los datos');\n      const entriesByCityMap = {};\n      for (const entry of data) {\n        let cityName = 'Sin ciudad';\n        if (entry.cities?.name) {\n          cityName = entry.cities.name;\n        } else if (entry.city_name) {\n          cityName = entry.city_name;\n        } else if (entry.cityName) {\n          cityName = entry.cityName;\n        } else if (entry.cityid) {\n          try {\n            const {\n              data: cityData\n            } = await supabase.from('cities').select('name').eq('id', entry.cityid).single();\n            if (cityData?.name) {\n              cityName = cityData.name;\n            }\n          } catch (e) {\n            console.warn('No se pudo obtener el nombre de la ciudad:', e);\n          }\n        }\n        if (!entriesByCityMap[cityName]) {\n          entriesByCityMap[cityName] = [];\n        }\n        const transformedEntry = transformEntryToCityJournalEntry(Object.assign({}, entry, {\n          cities: {\n            name: cityName\n          }\n        }));\n        entriesByCityMap[cityName].push(transformedEntry);\n      }\n      setEntriesByCity(entriesByCityMap);\n    } catch (error) {\n      console.error('Error al cargar entradas del diario:', error);\n      setError('No se pudieron cargar las entradas del diario');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleCityPress = city => {\n    setSelectedCity(city);\n    setViewMode('entries');\n  };\n  const handleBackPress = () => {\n    setSelectedCity(null);\n    setViewMode('cities');\n  };\n  const renderContent = () => {\n    if (loading) {\n      return _jsxDEV(View, {\n        style: styles.loadingContainer,\n        children: [_jsxDEV(ActivityIndicator, {\n          size: \"large\",\n          color: \"#4CAF50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.loadingText,\n          children: \"Cargando diario...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this);\n    }\n    if (error) {\n      return _jsxDEV(View, {\n        style: styles.errorContainer,\n        children: [_jsxDEV(Text, {\n          style: styles.errorText,\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this), _jsxDEV(TouchableOpacity, {\n          style: styles.retryButton,\n          onPress: fetchJournalEntries,\n          children: _jsxDEV(Text, {\n            style: styles.retryButtonText,\n            children: \"Reintentar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this);\n    }\n    const cities = Object.keys(entriesByCity);\n    if (viewMode === 'entries' && selectedCity) {\n      return _jsxDEV(View, {\n        style: styles.container,\n        children: [_jsxDEV(View, {\n          style: styles.header,\n          children: [_jsxDEV(TouchableOpacity, {\n            onPress: handleBackPress,\n            style: styles.backButton,\n            children: _jsxDEV(Ionicons, {\n              name: \"arrow-back\",\n              size: 24,\n              color: \"#333\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this), _jsxDEV(Text, {\n            style: styles.title,\n            children: selectedCity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this), entriesByCity[selectedCity].length === 0 ? _jsxDEV(EmptyState, {\n          message: `No hay entradas de diario para ${selectedCity}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }, this) : _jsxDEV(FlatList, {\n          data: entriesByCity[selectedCity],\n          renderItem: ({\n            item\n          }) => _jsxDEV(JournalEntryCard, {\n            entry: item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 41\n          }, this),\n          keyExtractor: item => item.id,\n          style: styles.entriesList\n        }, \"entries\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this);\n    }\n    return _jsxDEV(View, {\n      style: styles.container,\n      children: [_jsxDEV(Text, {\n        style: styles.title,\n        children: \"Ciudades Disponibles\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 9\n      }, this), cities.length === 0 ? _jsxDEV(View, {\n        style: styles.emptyContainer,\n        children: [_jsxDEV(Ionicons, {\n          name: \"map-outline\",\n          size: 64,\n          color: \"#ccc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, this), _jsxDEV(Text, {\n          style: styles.emptyText,\n          children: \"No hay ciudades disponibles todav\\xEDa.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 11\n      }, this) : _jsxDEV(FlatList, {\n        data: cities,\n        renderItem: ({\n          item\n        }) => _jsxDEV(CityCard, {\n          city: item,\n          entries: entriesByCity[item],\n          onPress: () => handleCityPress(item)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 15\n        }, this),\n        keyExtractor: item => item,\n        numColumns: 4,\n        columnWrapperStyle: styles.cityGrid\n      }, \"cities\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 7\n    }, this);\n  };\n  return renderContent();\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5',\n    padding: 15\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#333',\n    textAlign: 'center'\n  },\n  cityTabs: {\n    marginBottom: 20\n  },\n  cityTab: {\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    marginRight: 10,\n    backgroundColor: 'white',\n    borderRadius: 20,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 2,\n    elevation: 3\n  },\n  selectedCityTab: {\n    backgroundColor: '#4CAF50'\n  },\n  cityTabText: {\n    color: '#666',\n    fontWeight: 'bold'\n  },\n  selectedCityTabText: {\n    color: 'white'\n  },\n  entriesList: {\n    flex: 1\n  },\n  card: {\n    backgroundColor: 'white',\n    borderRadius: 10,\n    padding: 15,\n    marginBottom: 15,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  cardTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 5\n  },\n  cardDate: {\n    color: '#666',\n    fontSize: 12,\n    marginBottom: 10\n  },\n  cardContent: {\n    color: '#333',\n    marginBottom: 10\n  },\n  photoGrid: {\n    flexDirection: 'row',\n    marginBottom: 10\n  },\n  thumbnail: {\n    width: 80,\n    height: 80,\n    borderRadius: 5,\n    marginRight: 5\n  },\n  morePhotos: {\n    width: 80,\n    height: 80,\n    borderRadius: 5,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  morePhotosText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  tags: {\n    flexDirection: 'row',\n    flexWrap: 'wrap'\n  },\n  tag: {\n    color: '#4CAF50',\n    marginRight: 10,\n    fontSize: 12\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#f5f5f5'\n  },\n  loadingText: {\n    marginTop: 10,\n    color: '#666'\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#f5f5f5'\n  },\n  errorText: {\n    color: 'red',\n    textAlign: 'center',\n    marginBottom: 20\n  },\n  retryButton: {\n    backgroundColor: '#4CAF50',\n    padding: 10,\n    borderRadius: 5\n  },\n  retryButtonText: {\n    color: 'white',\n    textAlign: 'center',\n    fontWeight: 'bold'\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  emptyText: {\n    color: '#666',\n    marginTop: 10,\n    textAlign: 'center',\n    fontSize: 16\n  },\n  cityCard: {\n    width: '20%',\n    aspectRatio: 1,\n    backgroundColor: '#333',\n    borderRadius: 15,\n    margin: '2.5%',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    overflow: 'hidden',\n    position: 'relative'\n  },\n  carouselContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    overflow: 'hidden'\n  },\n  imageContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    width: '100%',\n    height: '100%'\n  },\n  cityCardBackground: {\n    width: '100%',\n    height: '100%'\n  },\n  cityCardOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 1\n  },\n  cityCardContent: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    padding: 15,\n    zIndex: 2\n  },\n  textContainer: {\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    padding: 12,\n    borderRadius: 12,\n    alignItems: 'center',\n    width: '90%',\n    alignSelf: 'center',\n    borderWidth: 1,\n    borderColor: 'rgba(255, 255, 255, 0.3)'\n  },\n  cityName: {\n    fontSize: 18,\n    fontWeight: '900',\n    marginTop: 4,\n    textAlign: 'center',\n    color: '#ffffff',\n    letterSpacing: 1,\n    textTransform: 'uppercase',\n    textShadowColor: 'rgba(0, 0, 0, 0.75)',\n    textShadowOffset: {\n      width: 0,\n      height: 1\n    },\n    textShadowRadius: 2\n  },\n  viewMissionsText: {\n    color: '#ffffff',\n    marginTop: 8,\n    fontSize: 14,\n    fontWeight: '700',\n    letterSpacing: 0.5,\n    backgroundColor: 'rgba(76, 175, 80, 0.9)',\n    paddingHorizontal: 10,\n    paddingVertical: 4,\n    borderRadius: 8,\n    textShadowColor: 'rgba(0, 0, 0, 0.5)',\n    textShadowOffset: {\n      width: 0,\n      height: 1\n    },\n    textShadowRadius: 1\n  },\n  cityGrid: {\n    justifyContent: 'flex-start',\n    flexWrap: 'wrap',\n    flexDirection: 'row',\n    paddingHorizontal: '2.5%'\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 20,\n    paddingHorizontal: 10\n  },\n  backButton: {\n    padding: 10,\n    marginRight: 10\n  },\n  carouselDots: {\n    position: 'absolute',\n    bottom: 10,\n    left: 0,\n    right: 0,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 2\n  },\n  dot: {\n    width: 6,\n    height: 6,\n    borderRadius: 3,\n    backgroundColor: 'rgba(255,255,255,0.5)',\n    marginHorizontal: 2\n  },\n  activeDot: {\n    backgroundColor: '#fff',\n    width: 8,\n    height: 8,\n    borderRadius: 4\n  },\n  noImageBackground: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: '#f0f0f0',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  missionBadge: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#E8F5E9',\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 12,\n    alignSelf: 'flex-start',\n    marginBottom: 8\n  },\n  missionBadgeText: {\n    color: '#4CAF50',\n    fontSize: 12,\n    fontWeight: '600',\n    marginLeft: 4\n  }\n});\nexport default JournalScreen;","map":{"version":3,"names":["React","useState","useEffect","useRef","View","Text","FlatList","StyleSheet","TouchableOpacity","Image","ActivityIndicator","Dimensions","Animated","useSelector","useDispatch","Ionicons","setRefreshJournal","useNavigation","supabase","jsxDEV","_jsxDEV","Fragment","_Fragment","JournalEntryCard","entry","style","styles","card","children","cardTitle","title","fileName","_jsxFileName","lineNumber","columnNumber","cardDate","Date","created_at","toLocaleDateString","missionId","missionBadge","name","size","color","missionBadgeText","cardContent","numberOfLines","content","photos","length","photoGrid","slice","map","photo","index","source","uri","thumbnail","resizeMode","morePhotos","morePhotosText","tags","tag","EmptyState","message","emptyContainer","emptyText","CityCard","city","entries","onPress","currentImageIndex","setCurrentImageIndex","nextImageIndex","setNextImageIndex","slideAnim","Value","current","allPhotos","reduce","animateSlide","setValue","timing","toValue","duration","useNativeDriver","start","interval","setInterval","clearInterval","cityCard","carouselContainer","imageContainer","transform","translateX","interpolate","inputRange","outputRange","get","width","cityCardBackground","carouselDots","_","dot","activeDot","noImageBackground","cityCardContent","textContainer","cityName","viewMissionsText","transformEntryToCityJournalEntry","id","userId","userid","cityId","cityid","location","city_name","cities","fetchWithRetry","fn","maxRetries","i","error","Promise","resolve","setTimeout","JournalScreen","route","selectedCity","setSelectedCity","entriesByCity","setEntriesByCity","loading","setLoading","setError","viewMode","setViewMode","user","state","auth","shouldRefresh","journal","dispatch","navigation","fetchJournalEntries","journalSubscription","channel","on","event","schema","table","filter","payload","console","log","subscribe","removeChannel","params","refresh","setParams","undefined","data","tableInfo","tableError","from","select","limit","data1","error1","eq","order","ascending","data2","error2","Error","entriesByCityMap","cityData","single","e","warn","transformedEntry","Object","assign","push","handleCityPress","handleBackPress","renderContent","loadingContainer","loadingText","errorContainer","errorText","retryButton","retryButtonText","keys","container","header","backButton","renderItem","item","keyExtractor","entriesList","numColumns","columnWrapperStyle","cityGrid","create","flex","backgroundColor","padding","fontSize","fontWeight","textAlign","cityTabs","marginBottom","cityTab","paddingHorizontal","paddingVertical","marginRight","borderRadius","shadowColor","shadowOffset","height","shadowOpacity","shadowRadius","elevation","selectedCityTab","cityTabText","selectedCityTabText","flexDirection","justifyContent","alignItems","flexWrap","marginTop","aspectRatio","margin","overflow","position","top","left","right","bottom","cityCardOverlay","zIndex","alignSelf","borderWidth","borderColor","letterSpacing","textTransform","textShadowColor","textShadowOffset","textShadowRadius","marginHorizontal","marginLeft"],"sources":["C:/Users/migue/miguel/TravelQuest/src/screens/main/JournalScreen.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { View, Text, FlatList, StyleSheet, TouchableOpacity, Image, ActivityIndicator, Alert, Dimensions, Animated } from 'react-native';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { RootState } from '../../features/store';\nimport { getUserJournalEntries, CityJournalEntry } from '../../services/journalService';\nimport { Ionicons } from '@expo/vector-icons';\nimport { setRefreshJournal } from '../../features/journalSlice';\nimport { useNavigation, RouteProp } from '@react-navigation/native';\nimport { supabase } from '../../services/supabase';\nimport { TabParamList } from '../../navigation/AppNavigator';\n\ninterface JournalScreenProps {\n  route: RouteProp<TabParamList, 'Journal'>;\n}\n\ninterface JournalEntryFromDB {\n  id: string;\n  userid: string;\n  title: string;\n  content: string;\n  created_at: string;\n  photos?: string[];\n  tags?: string[];\n  cityid: string;\n  cities?: {\n    name: string;\n  };\n}\n\nconst JournalEntryCard = ({ entry }: { entry: CityJournalEntry }) => (\n  <TouchableOpacity style={styles.card}>\n    <Text style={styles.cardTitle}>{entry.title}</Text>\n    <Text style={styles.cardDate}>{new Date(entry.created_at).toLocaleDateString()}</Text>\n    {entry.missionId && (\n      <View style={styles.missionBadge}>\n        <Ionicons name=\"trophy\" size={16} color=\"#4CAF50\" />\n        <Text style={styles.missionBadgeText}>Misión Completada</Text>\n      </View>\n    )}\n    <Text style={styles.cardContent} numberOfLines={3}>\n      {entry.content}\n    </Text>\n    {entry.photos && entry.photos.length > 0 && (\n      <View style={styles.photoGrid}>\n        {entry.photos.slice(0, 3).map((photo, index) => (\n          <Image\n            key={index}\n            source={{ uri: photo }}\n            style={styles.thumbnail}\n            resizeMode=\"cover\"\n          />\n        ))}\n        {entry.photos.length > 3 && (\n          <View style={styles.morePhotos}>\n            <Text style={styles.morePhotosText}>+{entry.photos.length - 3}</Text>\n          </View>\n        )}\n      </View>\n    )}\n    <View style={styles.tags}>\n      {entry.tags && entry.tags.map((tag, index) => (\n        <Text key={index} style={styles.tag}>\n          #{tag}\n        </Text>\n      ))}\n    </View>\n  </TouchableOpacity>\n);\n\nconst EmptyState = ({ message }: { message: string }) => (\n  <View style={styles.emptyContainer}>\n    <Ionicons name=\"journal-outline\" size={64} color=\"#ccc\" />\n    <Text style={styles.emptyText}>{message}</Text>\n  </View>\n);\n\nconst CityCard = ({ city, entries, onPress }: { city: string; entries: CityJournalEntry[]; onPress: () => void }) => {\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  const [nextImageIndex, setNextImageIndex] = useState(1);\n  const slideAnim = useRef(new Animated.Value(0)).current;\n  \n  // Recopilar todas las fotos de las entradas de la ciudad\n  const allPhotos = entries.reduce<string[]>((photos, entry) => {\n    if (entry.photos && entry.photos.length > 0) {\n      return [...photos, ...entry.photos];\n    }\n    return photos;\n  }, []);\n\n  // Función para animar el deslizamiento\n  const animateSlide = () => {\n    // Reset la animación\n    slideAnim.setValue(0);\n    \n    // Animar hacia la izquierda\n    Animated.timing(slideAnim, {\n      toValue: 1,\n      duration: 600,\n      useNativeDriver: true,\n    }).start(() => {\n      setCurrentImageIndex(nextImageIndex);\n      setNextImageIndex((nextImageIndex + 1) % allPhotos.length);\n      slideAnim.setValue(0);\n    });\n  };\n\n  // Efecto para el carrusel automático\n  useEffect(() => {\n    if (allPhotos.length <= 1) return;\n\n    const interval = setInterval(() => {\n      animateSlide();\n    }, 4000);\n\n    return () => clearInterval(interval);\n  }, [allPhotos.length, nextImageIndex]);\n\n  return (\n    <TouchableOpacity style={styles.cityCard} onPress={onPress}>\n      {allPhotos.length > 0 ? (\n        <>\n          <View style={styles.carouselContainer}>\n            <Animated.View\n              style={[\n                styles.imageContainer,\n                {\n                  transform: [{\n                    translateX: slideAnim.interpolate({\n                      inputRange: [0, 1],\n                      outputRange: [0, -Dimensions.get('window').width]\n                    })\n                  }]\n                }\n              ]}\n            >\n              <Image\n                source={{ uri: allPhotos[currentImageIndex] }}\n                style={styles.cityCardBackground}\n                resizeMode=\"cover\"\n              />\n            </Animated.View>\n            <Animated.View\n              style={[\n                styles.imageContainer,\n                {\n                  transform: [{\n                    translateX: slideAnim.interpolate({\n                      inputRange: [0, 1],\n                      outputRange: [Dimensions.get('window').width, 0]\n                    })\n                  }]\n                }\n              ]}\n            >\n              <Image\n                source={{ uri: allPhotos[nextImageIndex] }}\n                style={styles.cityCardBackground}\n                resizeMode=\"cover\"\n              />\n            </Animated.View>\n          </View>\n          {allPhotos.length > 1 && (\n            <View style={styles.carouselDots}>\n              {allPhotos.map((_, index) => (\n                <View\n                  key={index}\n                  style={[\n                    styles.dot,\n                    index === currentImageIndex && styles.activeDot\n                  ]}\n                />\n              ))}\n            </View>\n          )}\n        </>\n      ) : (\n        <View style={styles.noImageBackground}>\n          <Ionicons name=\"image-outline\" size={32} color=\"#666\" />\n        </View>\n      )}\n      <View style={styles.cityCardContent}>\n        <View style={styles.textContainer}>\n          <Ionicons name=\"location\" size={32} color=\"#fff\" />\n          <Text style={styles.cityName}>{city}</Text>\n          <Text style={styles.viewMissionsText}>Ver misiones ({entries.length})</Text>\n        </View>\n      </View>\n    </TouchableOpacity>\n  );\n};\n\nconst transformEntryToCityJournalEntry = (entry: JournalEntryFromDB): CityJournalEntry => {\n  return {\n    id: entry.id,\n    userId: entry.userid,\n    cityId: entry.cityid,\n    title: entry.title,\n    content: entry.content,\n    photos: entry.photos || [],\n    location: null,\n    created_at: entry.created_at,\n    tags: entry.tags || [],\n    city_name: entry.cities?.name || 'Sin ciudad'\n  };\n};\n\nconst fetchWithRetry = async (fn: () => Promise<any>, maxRetries = 3) => {\n  for (let i = 0; i < maxRetries; i++) {\n    try {\n      return await fn();\n    } catch (error) {\n      if (i === maxRetries - 1) throw error;\n      await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1)));\n    }\n  }\n};\n\nconst JournalScreen = ({ route }: JournalScreenProps) => {\n  const [selectedCity, setSelectedCity] = useState<string | null>(null);\n  const [entriesByCity, setEntriesByCity] = useState<{ [cityName: string]: CityJournalEntry[] }>({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [viewMode, setViewMode] = useState<'cities' | 'entries'>('cities');\n  \n  const { user } = useSelector((state: RootState) => state.auth);\n  const { shouldRefresh } = useSelector((state: RootState) => state.journal);\n  const dispatch = useDispatch();\n  const navigation = useNavigation<any>();\n  \n  useEffect(() => {\n    fetchJournalEntries();\n    \n    // Suscribirse a cambios en la tabla journal_entries\n    const journalSubscription = supabase\n      .channel('journal_changes')\n      .on('postgres_changes', { \n        event: '*', // Escuchar todos los eventos (INSERT, UPDATE, DELETE)\n        schema: 'public', \n        table: 'journal_entries',\n        filter: `userid=eq.${user?.id}`\n      }, (payload: any) => {\n        console.log('Cambio detectado en el diario:', payload);\n        fetchJournalEntries();\n      })\n      .subscribe();\n      \n    // Limpiar suscripción\n    return () => {\n      supabase.removeChannel(journalSubscription);\n    };\n  }, []);\n  \n  useEffect(() => {\n    if (shouldRefresh) {\n      console.log('Actualizando entradas del diario debido a nueva misión completada');\n      fetchJournalEntries();\n      dispatch(setRefreshJournal(false));\n    }\n  }, [shouldRefresh]);\n\n  // Detectar el parámetro refresh\n  useEffect(() => {\n    if (route.params?.refresh) {\n      console.log('Actualizando entradas del diario debido a nueva misión completada');\n      fetchJournalEntries();\n      // Limpiar el parámetro para evitar actualizaciones repetidas\n      if (navigation.setParams) {\n        navigation.setParams({ refresh: undefined });\n      }\n    }\n  }, [route.params?.refresh]);\n\n  const fetchJournalEntries = async () => {\n    if (!user?.id) {\n      setError('Usuario no autenticado');\n      setLoading(false);\n      return;\n    }\n\n    try {\n      setLoading(true);\n      \n      // Primero, intentar obtener la estructura de la tabla\n      const { data: tableInfo, error: tableError } = await supabase\n        .from('journal_entries')\n        .select('*')\n        .limit(1);\n\n      if (tableError) {\n        console.error('Error al verificar la estructura de la tabla:', tableError);\n        throw tableError;\n      }\n\n      // Intentar diferentes variaciones de la consulta\n      let data;\n      let error;\n\n      // Intento 1: Consulta con relación cities\n      const { data: data1, error: error1 } = await supabase\n        .from('journal_entries')\n        .select(`\n          *,\n          cities (\n            name\n          )\n        `)\n        .eq('userid', user.id)\n        .order('created_at', { ascending: false });\n\n      if (!error1) {\n        data = data1;\n      } else {\n        console.log('Primer intento fallido, probando alternativa:', error1);\n        \n        // Intento 2: Consulta básica sin relación\n        const { data: data2, error: error2 } = await supabase\n          .from('journal_entries')\n          .select('*')\n          .eq('userid', user.id)\n          .order('created_at', { ascending: false });\n\n        if (!error2) {\n          data = data2;\n        } else {\n          console.log('Segundo intento fallido:', error2);\n          error = error2;\n        }\n      }\n\n      if (error) throw error;\n      if (!data) throw new Error('No se pudieron obtener los datos');\n\n      // Organizar entradas por ciudad\n      const entriesByCityMap: { [key: string]: CityJournalEntry[] } = {};\n      \n      for (const entry of data) {\n        let cityName = 'Sin ciudad';\n        \n        // Intentar obtener el nombre de la ciudad de diferentes maneras\n        if (entry.cities?.name) {\n          cityName = entry.cities.name;\n        } else if (entry.city_name) {\n          cityName = entry.city_name;\n        } else if (entry.cityName) {\n          cityName = entry.cityName;\n        } else if (entry.cityid) {\n          // Si tenemos cityid pero no el nombre, intentar obtenerlo\n          try {\n            const { data: cityData } = await supabase\n              .from('cities')\n              .select('name')\n              .eq('id', entry.cityid)\n              .single();\n            \n            if (cityData?.name) {\n              cityName = cityData.name;\n            }\n          } catch (e) {\n            console.warn('No se pudo obtener el nombre de la ciudad:', e);\n          }\n        }\n\n        if (!entriesByCityMap[cityName]) {\n          entriesByCityMap[cityName] = [];\n        }\n\n        // Transformar la entrada\n        const transformedEntry = transformEntryToCityJournalEntry({\n          ...entry,\n          cities: { name: cityName }\n        });\n\n        entriesByCityMap[cityName].push(transformedEntry);\n      }\n\n      setEntriesByCity(entriesByCityMap);\n    } catch (error) {\n      console.error('Error al cargar entradas del diario:', error);\n      setError('No se pudieron cargar las entradas del diario');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCityPress = (city: string) => {\n    setSelectedCity(city);\n    setViewMode('entries');\n  };\n\n  const handleBackPress = () => {\n    setSelectedCity(null);\n    setViewMode('cities');\n  };\n\n  const renderContent = () => {\n    if (loading) {\n      return (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color=\"#4CAF50\" />\n          <Text style={styles.loadingText}>Cargando diario...</Text>\n        </View>\n      );\n    }\n\n    if (error) {\n      return (\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>{error}</Text>\n          <TouchableOpacity style={styles.retryButton} onPress={fetchJournalEntries}>\n            <Text style={styles.retryButtonText}>Reintentar</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    }\n\n    const cities = Object.keys(entriesByCity);\n\n    if (viewMode === 'entries' && selectedCity) {\n      return (\n        <View style={styles.container}>\n          <View style={styles.header}>\n            <TouchableOpacity onPress={handleBackPress} style={styles.backButton}>\n              <Ionicons name=\"arrow-back\" size={24} color=\"#333\" />\n            </TouchableOpacity>\n            <Text style={styles.title}>{selectedCity}</Text>\n          </View>\n          \n          {entriesByCity[selectedCity].length === 0 ? (\n            <EmptyState message={`No hay entradas de diario para ${selectedCity}`} />\n          ) : (\n            <FlatList\n              key=\"entries\"\n              data={entriesByCity[selectedCity]}\n              renderItem={({ item }) => <JournalEntryCard entry={item} />}\n              keyExtractor={(item) => item.id}\n              style={styles.entriesList}\n            />\n          )}\n        </View>\n      );\n    }\n\n    return (\n      <View style={styles.container}>\n        <Text style={styles.title}>Ciudades Disponibles</Text>\n        {cities.length === 0 ? (\n          <View style={styles.emptyContainer}>\n            <Ionicons name=\"map-outline\" size={64} color=\"#ccc\" />\n            <Text style={styles.emptyText}>\n              No hay ciudades disponibles todavía.\n            </Text>\n          </View>\n        ) : (\n          <FlatList\n            key=\"cities\"\n            data={cities}\n            renderItem={({ item }) => (\n              <CityCard\n                city={item}\n                entries={entriesByCity[item]}\n                onPress={() => handleCityPress(item)}\n              />\n            )}\n            keyExtractor={(item) => item}\n            numColumns={4}\n            columnWrapperStyle={styles.cityGrid}\n          />\n        )}\n      </View>\n    );\n  };\n\n  return renderContent();\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5',\n    padding: 15,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#333',\n    textAlign: 'center',\n  },\n  cityTabs: {\n    marginBottom: 20,\n  },\n  cityTab: {\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    marginRight: 10,\n    backgroundColor: 'white',\n    borderRadius: 20,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 2,\n    elevation: 3,\n  },\n  selectedCityTab: {\n    backgroundColor: '#4CAF50',\n  },\n  cityTabText: {\n    color: '#666',\n    fontWeight: 'bold',\n  },\n  selectedCityTabText: {\n    color: 'white',\n  },\n  entriesList: {\n    flex: 1,\n  },\n  card: {\n    backgroundColor: 'white',\n    borderRadius: 10,\n    padding: 15,\n    marginBottom: 15,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  cardTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 5,\n  },\n  cardDate: {\n    color: '#666',\n    fontSize: 12,\n    marginBottom: 10,\n  },\n  cardContent: {\n    color: '#333',\n    marginBottom: 10,\n  },\n  photoGrid: {\n    flexDirection: 'row',\n    marginBottom: 10,\n  },\n  thumbnail: {\n    width: 80,\n    height: 80,\n    borderRadius: 5,\n    marginRight: 5,\n  },\n  morePhotos: {\n    width: 80,\n    height: 80,\n    borderRadius: 5,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  morePhotosText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  tags: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n  },\n  tag: {\n    color: '#4CAF50',\n    marginRight: 10,\n    fontSize: 12,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#f5f5f5',\n  },\n  loadingText: {\n    marginTop: 10,\n    color: '#666',\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#f5f5f5',\n  },\n  errorText: {\n    color: 'red',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  retryButton: {\n    backgroundColor: '#4CAF50',\n    padding: 10,\n    borderRadius: 5,\n  },\n  retryButtonText: {\n    color: 'white',\n    textAlign: 'center',\n    fontWeight: 'bold',\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  emptyText: {\n    color: '#666',\n    marginTop: 10,\n    textAlign: 'center',\n    fontSize: 16,\n  },\n  cityCard: {\n    width: '20%',\n    aspectRatio: 1,\n    backgroundColor: '#333',\n    borderRadius: 15,\n    margin: '2.5%',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    overflow: 'hidden',\n    position: 'relative',\n  },\n  carouselContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    overflow: 'hidden',\n  },\n  imageContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    width: '100%',\n    height: '100%',\n  },\n  cityCardBackground: {\n    width: '100%',\n    height: '100%',\n  },\n  cityCardOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 1,\n  },\n  cityCardContent: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    padding: 15,\n    zIndex: 2,\n  },\n  textContainer: {\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    padding: 12,\n    borderRadius: 12,\n    alignItems: 'center',\n    width: '90%',\n    alignSelf: 'center',\n    borderWidth: 1,\n    borderColor: 'rgba(255, 255, 255, 0.3)',\n  },\n  cityName: {\n    fontSize: 18,\n    fontWeight: '900',\n    marginTop: 4,\n    textAlign: 'center',\n    color: '#ffffff',\n    letterSpacing: 1,\n    textTransform: 'uppercase',\n    textShadowColor: 'rgba(0, 0, 0, 0.75)',\n    textShadowOffset: { width: 0, height: 1 },\n    textShadowRadius: 2,\n  },\n  viewMissionsText: {\n    color: '#ffffff',\n    marginTop: 8,\n    fontSize: 14,\n    fontWeight: '700',\n    letterSpacing: 0.5,\n    backgroundColor: 'rgba(76, 175, 80, 0.9)',\n    paddingHorizontal: 10,\n    paddingVertical: 4,\n    borderRadius: 8,\n    textShadowColor: 'rgba(0, 0, 0, 0.5)',\n    textShadowOffset: { width: 0, height: 1 },\n    textShadowRadius: 1,\n  },\n  cityGrid: {\n    justifyContent: 'flex-start',\n    flexWrap: 'wrap',\n    flexDirection: 'row',\n    paddingHorizontal: '2.5%',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 20,\n    paddingHorizontal: 10,\n  },\n  backButton: {\n    padding: 10,\n    marginRight: 10,\n  },\n  carouselDots: {\n    position: 'absolute',\n    bottom: 10,\n    left: 0,\n    right: 0,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 2,\n  },\n  dot: {\n    width: 6,\n    height: 6,\n    borderRadius: 3,\n    backgroundColor: 'rgba(255,255,255,0.5)',\n    marginHorizontal: 2,\n  },\n  activeDot: {\n    backgroundColor: '#fff',\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n  },\n  noImageBackground: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: '#f0f0f0',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  missionBadge: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#E8F5E9',\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 12,\n    alignSelf: 'flex-start',\n    marginBottom: 8,\n  },\n  missionBadgeText: {\n    color: '#4CAF50',\n    fontSize: 12,\n    fontWeight: '600',\n    marginLeft: 4,\n  },\n});\n\nexport default JournalScreen; "],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}