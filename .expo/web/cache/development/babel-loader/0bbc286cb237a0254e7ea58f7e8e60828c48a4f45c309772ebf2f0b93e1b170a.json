{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\TravelQuest\\\\src\\\\screens\\\\main\\\\MapScreen.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport Map from '../../components/maps';\nimport { useNavigation } from '@react-navigation/native';\nimport generateMission from '../../services/missionGenerator';\nimport { Ionicons } from '@expo/vector-icons';\nimport { Calendar } from 'react-native-calendars';\nimport { searchCities } from '../../services/supabase';\nimport GlobeView from '../../components/GlobeView';\nimport { supabase } from '../../services/supabase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  width,\n  height\n} = Dimensions.get('window');\nconst LoadingModal = ({\n  visible,\n  currentStep\n}) => _jsxDEV(Modal, {\n  transparent: true,\n  visible: visible,\n  animationType: \"fade\",\n  children: _jsxDEV(View, {\n    style: styles.modalContainer,\n    children: _jsxDEV(View, {\n      style: styles.loadingCard,\n      children: [_jsxDEV(ActivityIndicator, {\n        size: \"large\",\n        color: \"#4CAF50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: styles.loadingTitle,\n        children: \"Generando tu aventura\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: styles.loadingStep,\n        children: currentStep\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.progressBar,\n        children: _jsxDEV(View, {\n          style: [styles.progressFill, {\n            width: currentStep.includes('Preparando') ? '30%' : currentStep.includes('Buscando') ? '60%' : currentStep.includes('Creando') ? '90%' : '10%'\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 43,\n  columnNumber: 3\n}, this);\nconst DateRangePickerMobile = ({\n  startDateProp,\n  endDateProp,\n  onDatesChange\n}) => {\n  const [startDate, setStartDate] = useState(startDateProp);\n  const [endDate, setEndDate] = useState(endDateProp);\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedDates, setSelectedDates] = useState({});\n  useEffect(() => {\n    setStartDate(startDateProp);\n    setEndDate(endDateProp);\n    if (startDateProp || endDateProp) {\n      updateMarkedDates(startDateProp, endDateProp);\n    }\n  }, [startDateProp, endDateProp]);\n  const updateMarkedDates = (start, end) => {\n    const newMarkedDates = {};\n    if (start) {\n      const startStr = format(start, 'yyyy-MM-dd');\n      newMarkedDates[startStr] = {\n        startingDay: true,\n        color: '#005F9E',\n        textColor: 'white'\n      };\n    }\n    if (end) {\n      const endStr = format(end, 'yyyy-MM-dd');\n      newMarkedDates[endStr] = {\n        endingDay: true,\n        color: '#005F9E',\n        textColor: 'white'\n      };\n    }\n    if (start && end) {\n      let currentDate = new Date(start);\n      currentDate.setDate(currentDate.getDate() + 1);\n      while (currentDate < end) {\n        const dateStr = format(currentDate, 'yyyy-MM-dd');\n        newMarkedDates[dateStr] = {\n          color: '#e5f3ff',\n          textColor: '#005F9E'\n        };\n        currentDate.setDate(currentDate.getDate() + 1);\n      }\n    }\n    setSelectedDates(newMarkedDates);\n  };\n  const handleDayPress = day => {\n    const selectedDate = new Date(day.dateString);\n    if (!startDate || startDate && endDate) {\n      const newStart = selectedDate;\n      setStartDate(newStart);\n      setEndDate(null);\n      updateMarkedDates(newStart, null);\n      onDatesChange([newStart, null]);\n    } else {\n      if (selectedDate < startDate) {\n        const newEnd = new Date(startDate);\n        setEndDate(newEnd);\n        setStartDate(selectedDate);\n        updateMarkedDates(selectedDate, newEnd);\n        onDatesChange([selectedDate, newEnd]);\n      } else {\n        setEndDate(selectedDate);\n        updateMarkedDates(startDate, selectedDate);\n        onDatesChange([startDate, selectedDate]);\n      }\n    }\n  };\n  const calculateDuration = (start, end) => {\n    if (!start || !end) return 0;\n    const diffTime = Math.abs(end.getTime() - start.getTime());\n    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n  };\n  const formatDateRange = () => {\n    if (!startDate && !endDate) {\n      return 'Selecciona fechas';\n    }\n    const formatDate = date => {\n      if (!date) return '';\n      return format(date, 'dd MMM');\n    };\n    const duration = calculateDuration(startDate, endDate);\n    const startStr = formatDate(startDate);\n    const endStr = formatDate(endDate);\n    if (startStr && endStr) {\n      return `${startStr} - ${endStr} Â· ${duration} noches`;\n    } else if (startStr) {\n      return `${startStr} - Selecciona fecha final`;\n    } else {\n      return 'Selecciona fechas';\n    }\n  };\n  return _jsxDEV(View, {\n    style: styles.datePickerContainer,\n    children: [_jsxDEV(TouchableOpacity, {\n      style: styles.datePickerButton,\n      onPress: () => setIsOpen(!isOpen),\n      children: _jsxDEV(View, {\n        style: styles.datePickerContent,\n        children: [_jsxDEV(Text, {\n          style: styles.datePickerText,\n          children: formatDateRange()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), _jsxDEV(Ionicons, {\n          name: isOpen ? 'chevron-up' : 'chevron-down',\n          size: 24,\n          color: \"white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this), isOpen && _jsxDEV(View, {\n      style: styles.calendarDropdown,\n      children: _jsxDEV(Calendar, {\n        minDate: new Date().toISOString().split('T')[0],\n        onDayPress: handleDayPress,\n        markingType: \"period\",\n        markedDates: selectedDates,\n        theme: {\n          calendarBackground: '#ffffff',\n          textSectionTitleColor: '#b6c1cd',\n          selectedDayBackgroundColor: '#005F9E',\n          selectedDayTextColor: '#ffffff',\n          todayTextColor: '#005F9E',\n          dayTextColor: '#2d4150',\n          textDisabledColor: '#d9e1e8',\n          dotColor: '#005F9E',\n          selectedDotColor: '#ffffff',\n          arrowColor: '#005F9E',\n          monthTextColor: '#005F9E',\n          indicatorColor: '#005F9E'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }, this);\n};\nconst DateRangePickerWeb = ({\n  startDateProp,\n  endDateProp,\n  onDatesChange\n}) => {\n  const [startDate, setStartDate] = useState(startDateProp);\n  const [endDate, setEndDate] = useState(endDateProp);\n  const [isOpen, setIsOpen] = useState(false);\n  const [currentMonth, setCurrentMonth] = useState(new Date());\n  useEffect(() => {\n    setStartDate(startDateProp);\n    setEndDate(endDateProp);\n  }, [startDateProp, endDateProp]);\n  const generateCalendar = date => {\n    const year = date.getFullYear();\n    const month = date.getMonth();\n    const firstDay = new Date(year, month, 1);\n    const startingDayOfWeek = firstDay.getDay();\n    const lastDay = new Date(year, month + 1, 0);\n    const totalDays = lastDay.getDate();\n    const days = [];\n    for (let i = 0; i < startingDayOfWeek; i++) {\n      const prevMonthDay = new Date(year, month, -i);\n      days.unshift({\n        date: prevMonthDay,\n        isCurrentMonth: false,\n        isToday: false,\n        isSelected: false\n      });\n    }\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    for (let i = 1; i <= totalDays; i++) {\n      const currentDate = new Date(year, month, i);\n      currentDate.setHours(0, 0, 0, 0);\n      const isToday = currentDate.getTime() === today.getTime();\n      const isStartDate = startDate && currentDate.getTime() === new Date(startDate).setHours(0, 0, 0, 0);\n      const isEndDate = endDate && currentDate.getTime() === new Date(endDate).setHours(0, 0, 0, 0);\n      const isInRange = startDate && endDate && currentDate.getTime() > new Date(startDate).setHours(0, 0, 0, 0) && currentDate.getTime() < new Date(endDate).setHours(0, 0, 0, 0);\n      days.push({\n        date: currentDate,\n        isCurrentMonth: true,\n        isToday,\n        isSelected: isStartDate || isEndDate,\n        isStartDate,\n        isEndDate,\n        isInRange\n      });\n    }\n    const remainingDays = 7 - days.length % 7;\n    if (remainingDays < 7) {\n      for (let i = 1; i <= remainingDays; i++) {\n        const nextMonthDay = new Date(year, month + 1, i);\n        days.push({\n          date: nextMonthDay,\n          isCurrentMonth: false,\n          isToday: false,\n          isSelected: false\n        });\n      }\n    }\n    return days;\n  };\n  const handleDateClick = date => {\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    if (date < today) {\n      return;\n    }\n    if (!startDate || startDate && endDate) {\n      setStartDate(date);\n      setEndDate(null);\n      onDatesChange([date, null]);\n    } else {\n      if (date < startDate) {\n        setEndDate(new Date(startDate));\n        setStartDate(date);\n        onDatesChange([date, startDate]);\n      } else {\n        setEndDate(date);\n        onDatesChange([startDate, date]);\n      }\n    }\n  };\n  const formatMonth = date => {\n    const months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];\n    return `${months[date.getMonth()]} ${date.getFullYear()}`;\n  };\n  const changeMonth = offset => {\n    const newMonth = new Date(currentMonth);\n    newMonth.setMonth(newMonth.getMonth() + offset);\n    setCurrentMonth(newMonth);\n  };\n  const days = generateCalendar(currentMonth);\n  const weekDays = ['Dom', 'Lun', 'Mar', 'MiÃ©', 'Jue', 'Vie', 'SÃ¡b'];\n  const calculateDuration = (start, end) => {\n    if (!start || !end) return 0;\n    const diffTime = Math.abs(end.getTime() - start.getTime());\n    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n  };\n  const formatDate = date => {\n    if (!date) return '';\n    return `${date.getDate()} ${['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic'][date.getMonth()]}`;\n  };\n  const formatDateRange = () => {\n    if (!startDate && !endDate) {\n      return 'Selecciona fechas';\n    }\n    const startStr = formatDate(startDate);\n    const endStr = formatDate(endDate);\n    const duration = calculateDuration(startDate, endDate);\n    if (startStr && endStr) {\n      return `${startStr} - ${endStr} Â· ${duration} noches`;\n    } else if (startStr) {\n      return `${startStr} - Selecciona fecha final`;\n    } else {\n      return 'Selecciona fechas';\n    }\n  };\n  return _jsxDEV(View, {\n    style: styles.datePickerContainer,\n    children: [_jsxDEV(TouchableOpacity, {\n      style: styles.datePickerButton,\n      onPress: () => setIsOpen(!isOpen),\n      children: _jsxDEV(View, {\n        style: styles.datePickerContent,\n        children: [_jsxDEV(Text, {\n          style: styles.datePickerText,\n          children: formatDateRange()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), _jsxDEV(Ionicons, {\n          name: isOpen ? 'chevron-up' : 'chevron-down',\n          size: 24,\n          color: \"white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 7\n    }, this), isOpen && _jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '100%',\n        left: 0,\n        right: 0,\n        backgroundColor: 'white',\n        zIndex: 9999,\n        boxShadow: '0px 2px 10px rgba(0,0,0,0.1)',\n        borderRadius: 8,\n        marginTop: 4,\n        padding: 15,\n        width: 620,\n        marginLeft: 'auto',\n        marginRight: 'auto'\n      },\n      children: [_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          marginBottom: 10\n        },\n        children: [_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'center'\n          },\n          children: [_jsxDEV(\"button\", {\n            onClick: () => changeMonth(-1),\n            style: {\n              background: 'none',\n              border: 'none',\n              fontSize: 24,\n              cursor: 'pointer',\n              color: '#005F9E'\n            },\n            children: \"\\u2190\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 15\n          }, this), _jsxDEV(\"h3\", {\n            style: {\n              margin: '0 15px',\n              color: '#005F9E'\n            },\n            children: formatMonth(currentMonth)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 15\n          }, this), _jsxDEV(\"button\", {\n            onClick: () => changeMonth(1),\n            style: {\n              background: 'none',\n              border: 'none',\n              fontSize: 24,\n              cursor: 'pointer',\n              color: '#005F9E'\n            },\n            children: \"\\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }, this), _jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center'\n          },\n          children: _jsxDEV(\"button\", {\n            onClick: () => {\n              setStartDate(null);\n              setEndDate(null);\n              onDatesChange([null, null]);\n            },\n            style: {\n              background: 'none',\n              border: '1px solid #ddd',\n              padding: '5px 10px',\n              borderRadius: 4,\n              cursor: 'pointer'\n            },\n            children: \"Limpiar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 11\n      }, this), _jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: 'repeat(7, 1fr)',\n          gap: 5,\n          textAlign: 'center'\n        },\n        children: [weekDays.map(day => _jsxDEV(\"div\", {\n          style: {\n            padding: 5,\n            fontWeight: 'bold',\n            color: '#666'\n          },\n          children: day\n        }, day, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 15\n        }, this)), days.map((day, index) => _jsxDEV(\"div\", {\n          onClick: () => day.isCurrentMonth && handleDateClick(day.date),\n          style: {\n            padding: 10,\n            cursor: day.isCurrentMonth ? 'pointer' : 'default',\n            backgroundColor: day.isStartDate || day.isEndDate ? '#005F9E' : day.isInRange ? '#e5f3ff' : 'transparent',\n            color: day.isStartDate || day.isEndDate ? 'white' : !day.isCurrentMonth ? '#ccc' : day.isToday ? '#005F9E' : '#333',\n            fontWeight: day.isToday ? 'bold' : 'normal',\n            borderRadius: 4,\n            opacity: day.isCurrentMonth ? 1 : 0.5\n          },\n          children: day.date.getDate()\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 380,\n    columnNumber: 5\n  }, this);\n};\nconst FriendSelectionModal = ({\n  visible,\n  onClose,\n  onSelect\n}) => {\n  const [friends, setFriends] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const user = useSelector(state => state.auth.user);\n  useEffect(() => {\n    if (visible) {\n      const fetchFriends = async () => {\n        if (!user) {\n          setLoading(false);\n          return;\n        }\n        try {\n          setLoading(true);\n          const {\n            data: friendData,\n            error\n          } = await supabase.from('friends').select('user2Id').eq('user1Id', user.id);\n          if (error) throw error;\n          const friendDetails = await Promise.all(friendData.map(async friend => {\n            const {\n              data: userData,\n              error: userError\n            } = await supabase.from('users').select('username, points').eq('id', friend.user2Id).single();\n            if (userError) return null;\n            return {\n              user2Id: friend.user2Id,\n              username: userData.username,\n              points: userData.points\n            };\n          }));\n          setFriends(friendDetails.filter(f => f !== null));\n        } catch (error) {\n          console.error('Error fetching friends:', error);\n        } finally {\n          setLoading(false);\n        }\n      };\n      fetchFriends();\n    }\n  }, [visible, user]);\n  return _jsxDEV(Modal, {\n    visible: visible,\n    animationType: \"slide\",\n    onRequestClose: onClose,\n    transparent: true,\n    children: _jsxDEV(View, {\n      style: modalStyles.modalOverlay,\n      children: _jsxDEV(View, {\n        style: modalStyles.modalContent,\n        children: [_jsxDEV(Text, {\n          style: modalStyles.modalTitle,\n          children: \"\\xBFQuieres compartir tu aventura?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: modalStyles.modalSubtitle,\n          children: \"Selecciona un amigo para compartir este viaje\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 11\n        }, this), loading ? _jsxDEV(ActivityIndicator, {\n          size: \"large\",\n          color: \"#4CAF50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 13\n        }, this) : _jsxDEV(FlatList, {\n          data: friends,\n          keyExtractor: item => item.user2Id,\n          renderItem: ({\n            item\n          }) => _jsxDEV(TouchableOpacity, {\n            style: modalStyles.friendItem,\n            onPress: () => onSelect(item),\n            children: [_jsxDEV(Text, {\n              style: modalStyles.friendName,\n              children: item.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 19\n            }, this), _jsxDEV(Text, {\n              style: modalStyles.friendPoints,\n              children: [\"Puntos: \", item.points]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 17\n          }, this),\n          ListEmptyComponent: _jsxDEV(Text, {\n            style: modalStyles.emptyText,\n            children: \"No tienes amigos agregados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 13\n        }, this), _jsxDEV(View, {\n          style: modalStyles.buttonContainer,\n          children: _jsxDEV(TouchableOpacity, {\n            style: modalStyles.cancelButton,\n            onPress: onClose,\n            children: _jsxDEV(Text, {\n              style: modalStyles.cancelButtonText,\n              children: \"No compartir\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 574,\n    columnNumber: 5\n  }, this);\n};\nconst modalStyles = StyleSheet.create({\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  modalContent: {\n    width: '80%',\n    backgroundColor: 'white',\n    borderRadius: 10,\n    padding: 20,\n    maxHeight: '80%'\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    textAlign: 'center'\n  },\n  modalSubtitle: {\n    fontSize: 16,\n    color: '#666',\n    marginBottom: 20,\n    textAlign: 'center'\n  },\n  friendItem: {\n    padding: 15,\n    borderBottomWidth: 1,\n    borderBottomColor: '#eee'\n  },\n  friendName: {\n    fontSize: 16,\n    fontWeight: '500'\n  },\n  friendPoints: {\n    fontSize: 14,\n    color: '#666',\n    marginTop: 4\n  },\n  buttonContainer: {\n    marginTop: 20,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  },\n  cancelButton: {\n    backgroundColor: '#f44336',\n    padding: 12,\n    borderRadius: 5,\n    minWidth: 120,\n    alignItems: 'center'\n  },\n  cancelButtonText: {\n    color: 'white',\n    fontWeight: 'bold'\n  },\n  emptyText: {\n    textAlign: 'center',\n    color: '#666',\n    padding: 20\n  }\n});\nconst MapScreen = () => {\n  const navigation = useNavigation();\n  const dispatch = useDispatch();\n  const {\n    user\n  } = useSelector(state => state.auth);\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [showSearchResults, setShowSearchResults] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [showCalendar, setShowCalendar] = useState(false);\n  const [selectedCity, setSelectedCity] = useState(null);\n  const [showGlobe, setShowGlobe] = useState(false);\n  const formatDate = date => {\n    return date.toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n  const handleSearch = async query => {\n    if (query.length < 2) {\n      setSearchResults([]);\n      return;\n    }\n    try {\n      setLoading(true);\n      const results = await searchCities(query);\n      setSearchResults(results);\n      setShowSearchResults(true);\n    } catch (error) {\n      console.error('Error searching cities:', error);\n      Alert.alert('Error', 'No se pudieron cargar los resultados de bÃºsqueda');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleCitySelect = city => {\n    setSelectedCity(city);\n    setSearchQuery(city.name);\n    setShowSearchResults(false);\n  };\n  const handleDateSelect = date => {\n    setSelectedDate(new Date(date));\n    setShowCalendar(false);\n  };\n  const handleGenerateMission = async () => {\n    if (!selectedCity) {\n      Alert.alert('Error', 'Por favor selecciona una ciudad');\n      return;\n    }\n    try {\n      setLoading(true);\n      const mission = await generateMission(selectedCity, selectedDate);\n      navigation.navigate('Missions', {\n        journeyId: mission.id,\n        challenges: mission.challenges\n      });\n    } catch (error) {\n      console.error('Error generating mission:', error);\n      Alert.alert('Error', 'No se pudo generar la misiÃ³n');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: [_jsxDEV(View, {\n      style: styles.searchContainer,\n      children: [_jsxDEV(TextInput, {\n        style: styles.searchInput,\n        placeholder: \"Buscar ciudad...\",\n        value: searchQuery,\n        onChangeText: text => {\n          setSearchQuery(text);\n          handleSearch(text);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 745,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        style: styles.dateButton,\n        onPress: () => setShowCalendar(true),\n        children: _jsxDEV(Text, {\n          style: styles.dateButtonText,\n          children: formatDate(selectedDate)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 758,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 754,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 744,\n      columnNumber: 7\n    }, this), showSearchResults && _jsxDEV(View, {\n      style: styles.searchResults,\n      children: _jsxDEV(FlatList, {\n        data: searchResults,\n        keyExtractor: item => item.id,\n        renderItem: ({\n          item\n        }) => _jsxDEV(TouchableOpacity, {\n          style: styles.searchItem,\n          onPress: () => handleCitySelect(item),\n          children: _jsxDEV(Text, {\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 774,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 770,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 766,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 765,\n      columnNumber: 9\n    }, this), _jsxDEV(Modal, {\n      visible: showCalendar,\n      animationType: \"slide\",\n      transparent: true,\n      children: _jsxDEV(View, {\n        style: styles.modalContainer,\n        children: _jsxDEV(View, {\n          style: styles.calendarContainer,\n          children: [_jsxDEV(Calendar, {\n            onDayPress: day => handleDateSelect(day.dateString),\n            markedDates: {\n              [selectedDate.toISOString().split('T')[0]]: {\n                selected: true,\n                selectedColor: '#4CAF50'\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 788,\n            columnNumber: 13\n          }, this), _jsxDEV(TouchableOpacity, {\n            style: styles.closeButton,\n            onPress: () => setShowCalendar(false),\n            children: _jsxDEV(Text, {\n              children: \"Cerrar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 801,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 797,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 787,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 786,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 781,\n      columnNumber: 7\n    }, this), loading ? _jsxDEV(View, {\n      style: styles.loadingContainer,\n      children: _jsxDEV(ActivityIndicator, {\n        size: \"large\",\n        color: \"#4CAF50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 809,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 808,\n      columnNumber: 9\n    }, this) : _jsxDEV(View, {\n      style: styles.mapContainer,\n      children: showGlobe ? _jsxDEV(GlobeView, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 814,\n        columnNumber: 13\n      }, this) : _jsxDEV(Map, {\n        selectedCity: selectedCity,\n        onCitySelect: setSelectedCity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 816,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 812,\n      columnNumber: 9\n    }, this), _jsxDEV(View, {\n      style: styles.buttonContainer,\n      children: [_jsxDEV(TouchableOpacity, {\n        style: styles.generateButton,\n        onPress: handleGenerateMission,\n        disabled: !selectedCity || loading,\n        children: _jsxDEV(Text, {\n          style: styles.generateButtonText,\n          children: loading ? 'Generando...' : 'Generar MisiÃ³n'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 830,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 825,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        style: styles.viewToggleButton,\n        onPress: () => setShowGlobe(!showGlobe),\n        children: _jsxDEV(Ionicons, {\n          name: showGlobe ? 'map' : 'globe',\n          size: 24,\n          color: \"#4CAF50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 838,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 834,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 824,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 743,\n    columnNumber: 5\n  }, this);\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  searchContainer: {\n    flexDirection: 'row',\n    padding: 10,\n    backgroundColor: '#fff',\n    elevation: 2,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 3\n  },\n  searchInput: {\n    flex: 1,\n    height: 40,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderRadius: 20,\n    paddingHorizontal: 15,\n    marginRight: 10\n  },\n  dateButton: {\n    paddingHorizontal: 15,\n    height: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#f5f5f5',\n    borderRadius: 20\n  },\n  searchResults: {\n    position: 'absolute',\n    top: 60,\n    left: 10,\n    right: 10,\n    backgroundColor: '#fff',\n    borderRadius: 10,\n    elevation: 3,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 3,\n    maxHeight: 200,\n    zIndex: 1000\n  },\n  searchItem: {\n    padding: 15,\n    borderBottomWidth: 1,\n    borderBottomColor: '#eee'\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)'\n  },\n  calendarContainer: {\n    backgroundColor: '#fff',\n    borderRadius: 10,\n    padding: 20,\n    width: '90%'\n  },\n  closeButton: {\n    marginTop: 10,\n    padding: 10,\n    alignItems: 'center'\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  mapContainer: {\n    flex: 1\n  },\n  buttonContainer: {\n    position: 'absolute',\n    bottom: 20,\n    right: 20,\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  generateButton: {\n    backgroundColor: '#4CAF50',\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    borderRadius: 20,\n    marginRight: 10\n  },\n  generateButtonText: {\n    color: '#fff',\n    fontWeight: 'bold'\n  },\n  viewToggleButton: {\n    backgroundColor: '#fff',\n    padding: 10,\n    borderRadius: 20,\n    elevation: 2,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 3\n  },\n  loadingCard: {\n    backgroundColor: '#fff',\n    padding: 20,\n    borderRadius: 10,\n    alignItems: 'center',\n    width: '80%'\n  },\n  loadingTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 10\n  },\n  loadingStep: {\n    fontSize: 14,\n    color: '#666',\n    marginBottom: 15\n  },\n  progressBar: {\n    height: 4,\n    width: '100%',\n    backgroundColor: '#eee',\n    borderRadius: 2\n  },\n  progressFill: {\n    height: '100%',\n    backgroundColor: '#4CAF50',\n    borderRadius: 2\n  },\n  datePickerContainer: {\n    backgroundColor: '#fff',\n    borderRadius: 10,\n    padding: 20,\n    width: '90%'\n  },\n  dateButtonText: {\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  datePickerButton: {\n    backgroundColor: '#fff',\n    padding: 15,\n    borderRadius: 10,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: 20\n  },\n  datePickerContent: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  datePickerText: {\n    fontSize: 16,\n    marginLeft: 10\n  },\n  calendarDropdown: {\n    position: 'absolute',\n    top: 60,\n    right: 0,\n    backgroundColor: '#fff',\n    borderRadius: 10,\n    padding: 10,\n    elevation: 5,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3\n  }\n});\nexport default MapScreen;","map":{"version":3,"names":["React","useState","useEffect","View","StyleSheet","TextInput","TouchableOpacity","Text","Dimensions","Modal","ActivityIndicator","Alert","FlatList","useDispatch","useSelector","Map","useNavigation","generateMission","Ionicons","Calendar","searchCities","GlobeView","supabase","jsxDEV","_jsxDEV","width","height","get","LoadingModal","visible","currentStep","transparent","animationType","children","style","styles","modalContainer","loadingCard","size","color","fileName","_jsxFileName","lineNumber","columnNumber","loadingTitle","loadingStep","progressBar","progressFill","includes","DateRangePickerMobile","startDateProp","endDateProp","onDatesChange","startDate","setStartDate","endDate","setEndDate","isOpen","setIsOpen","selectedDates","setSelectedDates","updateMarkedDates","start","end","newMarkedDates","startStr","format","startingDay","textColor","endStr","endingDay","currentDate","Date","setDate","getDate","dateStr","handleDayPress","day","selectedDate","dateString","newStart","newEnd","calculateDuration","diffTime","Math","abs","getTime","ceil","formatDateRange","formatDate","date","duration","datePickerContainer","datePickerButton","onPress","datePickerContent","datePickerText","name","calendarDropdown","minDate","toISOString","split","onDayPress","markingType","markedDates","theme","calendarBackground","textSectionTitleColor","selectedDayBackgroundColor","selectedDayTextColor","todayTextColor","dayTextColor","textDisabledColor","dotColor","selectedDotColor","arrowColor","monthTextColor","indicatorColor","DateRangePickerWeb","currentMonth","setCurrentMonth","generateCalendar","year","getFullYear","month","getMonth","firstDay","startingDayOfWeek","getDay","lastDay","totalDays","days","i","prevMonthDay","unshift","isCurrentMonth","isToday","isSelected","today","setHours","isStartDate","isEndDate","isInRange","push","remainingDays","length","nextMonthDay","handleDateClick","formatMonth","months","changeMonth","offset","newMonth","setMonth","weekDays","position","top","left","right","backgroundColor","zIndex","boxShadow","borderRadius","marginTop","padding","marginLeft","marginRight","display","justifyContent","marginBottom","flexDirection","alignItems","onClick","background","border","fontSize","cursor","margin","gridTemplateColumns","gap","textAlign","map","fontWeight","index","opacity","FriendSelectionModal","onClose","onSelect","friends","setFriends","loading","setLoading","user","state","auth","fetchFriends","data","friendData","error","from","select","eq","id","friendDetails","Promise","all","friend","userData","userError","user2Id","single","username","points","filter","f","console","onRequestClose","modalStyles","modalOverlay","modalContent","modalTitle","modalSubtitle","keyExtractor","item","renderItem","friendItem","friendName","friendPoints","ListEmptyComponent","emptyText","buttonContainer","cancelButton","cancelButtonText","create","flex","maxHeight","borderBottomWidth","borderBottomColor","minWidth","MapScreen","navigation","dispatch","setSelectedDate","searchQuery","setSearchQuery","searchResults","setSearchResults","showSearchResults","setShowSearchResults","showCalendar","setShowCalendar","selectedCity","setSelectedCity","showGlobe","setShowGlobe","toLocaleDateString","handleSearch","query","results","alert","handleCitySelect","city","handleDateSelect","handleGenerateMission","mission","navigate","journeyId","challenges","container","searchContainer","searchInput","placeholder","value","onChangeText","text","dateButton","dateButtonText","searchItem","calendarContainer","selected","selectedColor","closeButton","loadingContainer","mapContainer","onCitySelect","generateButton","disabled","generateButtonText","viewToggleButton","elevation","shadowColor","shadowOffset","shadowOpacity","shadowRadius","borderWidth","borderColor","paddingHorizontal","bottom","paddingVertical"],"sources":["C:/Users/PC/TravelQuest/src/screens/main/MapScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, StyleSheet, TextInput, TouchableOpacity, Text, Dimensions, Platform, Modal, ActivityIndicator, Alert, ScrollView, FlatList } from 'react-native';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { RootState } from '../../features/hooks';\r\nimport Map from '../../components/maps';\r\nimport * as Location from 'expo-location';\r\nimport { getMissionsByCityAndDuration } from '../../services/missionService';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { NativeStackNavigationProp } from '@react-navigation/native-stack';\r\nimport generateMission from '../../services/missionGenerator';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { Calendar } from 'react-native-calendars';\r\nimport { searchCities } from '../../services/supabase';\r\nimport GlobeView from '../../components/GlobeView';\r\nimport { supabase } from '../../services/supabase';\r\nimport { shareJourney } from '../../services/shareService';\r\n\r\ninterface City {\r\n  id: string;\r\n  name: string;\r\n  latitude: number;\r\n  longitude: number;\r\n}\r\n\r\ninterface Friend {\r\n  user2Id: string;\r\n  username: string;\r\n  points: number;\r\n}\r\n\r\ntype RootStackParamList = {\r\n  Missions: {\r\n    journeyId: string;\r\n    challenges: any[];\r\n  };\r\n};\r\n\r\ntype NavigationProp = NativeStackNavigationProp<RootStackParamList>;\r\n\r\nconst { width, height } = Dimensions.get('window');\r\n\r\nconst LoadingModal = ({ visible, currentStep }: { visible: boolean; currentStep: string }) => (\r\n  <Modal\r\n    transparent={true}\r\n    visible={visible}\r\n    animationType=\"fade\"\r\n  >\r\n    <View style={styles.modalContainer}>\r\n      <View style={styles.loadingCard}>\r\n        <ActivityIndicator size=\"large\" color=\"#4CAF50\" />\r\n        <Text style={styles.loadingTitle}>Generando tu aventura</Text>\r\n        <Text style={styles.loadingStep}>{currentStep}</Text>\r\n\r\n        {/* Indicador de progreso visual */}\r\n        <View style={styles.progressBar}>\r\n          <View style={[\r\n            styles.progressFill,\r\n            {\r\n              width: currentStep.includes('Preparando') ? '30%' :\r\n                currentStep.includes('Buscando') ? '60%' :\r\n                  currentStep.includes('Creando') ? '90%' : '10%'\r\n            }\r\n          ]} />\r\n        </View>\r\n      </View>\r\n    </View>\r\n  </Modal>\r\n);\r\n\r\nconst DateRangePickerMobile: React.FC<{\r\n  startDateProp: Date | null;\r\n  endDateProp: Date | null;\r\n  onDatesChange: (dates: [Date | null, Date | null]) => void;\r\n}> = ({ startDateProp, endDateProp, onDatesChange }) => {\r\n  const [startDate, setStartDate] = useState<Date | null>(startDateProp);\r\n  const [endDate, setEndDate] = useState<Date | null>(endDateProp);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [selectedDates, setSelectedDates] = useState<{ [date: string]: any }>({});\r\n\r\n  useEffect(() => {\r\n    setStartDate(startDateProp);\r\n    setEndDate(endDateProp);\r\n\r\n    if (startDateProp || endDateProp) {\r\n      updateMarkedDates(startDateProp, endDateProp);\r\n    }\r\n  }, [startDateProp, endDateProp]);\r\n\r\n  const updateMarkedDates = (start: Date | null, end: Date | null) => {\r\n    const newMarkedDates: { [date: string]: any } = {};\r\n\r\n    if (start) {\r\n      const startStr = format(start, 'yyyy-MM-dd');\r\n      newMarkedDates[startStr] = {\r\n        startingDay: true,\r\n        color: '#005F9E',\r\n        textColor: 'white'\r\n      };\r\n    }\r\n\r\n    if (end) {\r\n      const endStr = format(end, 'yyyy-MM-dd');\r\n      newMarkedDates[endStr] = {\r\n        endingDay: true,\r\n        color: '#005F9E',\r\n        textColor: 'white'\r\n      };\r\n    }\r\n\r\n    if (start && end) {\r\n      let currentDate = new Date(start);\r\n      currentDate.setDate(currentDate.getDate() + 1);\r\n\r\n      while (currentDate < end) {\r\n        const dateStr = format(currentDate, 'yyyy-MM-dd');\r\n        newMarkedDates[dateStr] = {\r\n          color: '#e5f3ff',\r\n          textColor: '#005F9E'\r\n        };\r\n        currentDate.setDate(currentDate.getDate() + 1);\r\n      }\r\n    }\r\n\r\n    setSelectedDates(newMarkedDates);\r\n  };\r\n\r\n  const handleDayPress = (day: any) => {\r\n    const selectedDate = new Date(day.dateString);\r\n\r\n    if (!startDate || (startDate && endDate)) {\r\n      const newStart = selectedDate;\r\n      setStartDate(newStart);\r\n      setEndDate(null);\r\n      updateMarkedDates(newStart, null);\r\n      onDatesChange([newStart, null]);\r\n    } else {\r\n      if (selectedDate < startDate) {\r\n        const newEnd = new Date(startDate);\r\n        setEndDate(newEnd);\r\n        setStartDate(selectedDate);\r\n        updateMarkedDates(selectedDate, newEnd);\r\n        onDatesChange([selectedDate, newEnd]);\r\n      } else {\r\n        setEndDate(selectedDate);\r\n        updateMarkedDates(startDate, selectedDate);\r\n        onDatesChange([startDate, selectedDate]);\r\n      }\r\n    }\r\n  };\r\n\r\n  const calculateDuration = (start: Date | null, end: Date | null): number => {\r\n    if (!start || !end) return 0;\r\n    const diffTime = Math.abs(end.getTime() - start.getTime());\r\n    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n  };\r\n\r\n  const formatDateRange = (): string => {\r\n    if (!startDate && !endDate) {\r\n      return 'Selecciona fechas';\r\n    }\r\n\r\n    const formatDate = (date: Date | null): string => {\r\n      if (!date) return '';\r\n      return format(date, 'dd MMM');\r\n    };\r\n\r\n    const duration = calculateDuration(startDate, endDate);\r\n    const startStr = formatDate(startDate);\r\n    const endStr = formatDate(endDate);\r\n\r\n    if (startStr && endStr) {\r\n      return `${startStr} - ${endStr} Â· ${duration} noches`;\r\n    } else if (startStr) {\r\n      return `${startStr} - Selecciona fecha final`;\r\n    } else {\r\n      return 'Selecciona fechas';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.datePickerContainer}>\r\n      <TouchableOpacity\r\n        style={styles.datePickerButton}\r\n        onPress={() => setIsOpen(!isOpen)}\r\n      >\r\n        <View style={styles.datePickerContent}>\r\n          <Text style={styles.datePickerText}>{formatDateRange()}</Text>\r\n          <Ionicons name={isOpen ? 'chevron-up' : 'chevron-down'} size={24} color=\"white\" />\r\n        </View>\r\n      </TouchableOpacity>\r\n      {isOpen && (\r\n        <View style={styles.calendarDropdown}>\r\n          <Calendar\r\n            minDate={new Date().toISOString().split('T')[0]}\r\n            onDayPress={handleDayPress}\r\n            markingType=\"period\"\r\n            markedDates={selectedDates}\r\n            theme={{\r\n              calendarBackground: '#ffffff',\r\n              textSectionTitleColor: '#b6c1cd',\r\n              selectedDayBackgroundColor: '#005F9E',\r\n              selectedDayTextColor: '#ffffff',\r\n              todayTextColor: '#005F9E',\r\n              dayTextColor: '#2d4150',\r\n              textDisabledColor: '#d9e1e8',\r\n              dotColor: '#005F9E',\r\n              selectedDotColor: '#ffffff',\r\n              arrowColor: '#005F9E',\r\n              monthTextColor: '#005F9E',\r\n              indicatorColor: '#005F9E',\r\n            }}\r\n          />\r\n        </View>\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\n// En lugar de usar react-datepicker, crear un componente propio para web\r\nconst DateRangePickerWeb: React.FC<{\r\n  startDateProp: Date | null;\r\n  endDateProp: Date | null;\r\n  onDatesChange: (dates: [Date | null, Date | null]) => void;\r\n}> = ({ startDateProp, endDateProp, onDatesChange }) => {\r\n  const [startDate, setStartDate] = useState<Date | null>(startDateProp);\r\n  const [endDate, setEndDate] = useState<Date | null>(endDateProp);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [currentMonth, setCurrentMonth] = useState(new Date());\r\n\r\n  useEffect(() => {\r\n    setStartDate(startDateProp);\r\n    setEndDate(endDateProp);\r\n  }, [startDateProp, endDateProp]);\r\n\r\n  // FunciÃ³n para generar el calendario\r\n  const generateCalendar = (date: Date) => {\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n\r\n    // Obtener el primer dÃ­a del mes\r\n    const firstDay = new Date(year, month, 1);\r\n    const startingDayOfWeek = firstDay.getDay(); // 0 = domingo\r\n\r\n    // Obtener el Ãºltimo dÃ­a del mes\r\n    const lastDay = new Date(year, month + 1, 0);\r\n    const totalDays = lastDay.getDate();\r\n\r\n    // Crear un array para los dÃ­as del mes\r\n    const days = [];\r\n\r\n    // Agregar dÃ­as del mes anterior para completar la primera semana\r\n    for (let i = 0; i < startingDayOfWeek; i++) {\r\n      const prevMonthDay = new Date(year, month, -i);\r\n      days.unshift({\r\n        date: prevMonthDay,\r\n        isCurrentMonth: false,\r\n        isToday: false,\r\n        isSelected: false\r\n      });\r\n    }\r\n\r\n    // Agregar los dÃ­as del mes actual\r\n    const today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n\r\n    for (let i = 1; i <= totalDays; i++) {\r\n      const currentDate = new Date(year, month, i);\r\n      currentDate.setHours(0, 0, 0, 0);\r\n\r\n      const isToday = currentDate.getTime() === today.getTime();\r\n      const isStartDate = startDate && currentDate.getTime() === new Date(startDate).setHours(0, 0, 0, 0);\r\n      const isEndDate = endDate && currentDate.getTime() === new Date(endDate).setHours(0, 0, 0, 0);\r\n      const isInRange = startDate && endDate &&\r\n        currentDate.getTime() > new Date(startDate).setHours(0, 0, 0, 0) &&\r\n        currentDate.getTime() < new Date(endDate).setHours(0, 0, 0, 0);\r\n\r\n      days.push({\r\n        date: currentDate,\r\n        isCurrentMonth: true,\r\n        isToday,\r\n        isSelected: isStartDate || isEndDate,\r\n        isStartDate,\r\n        isEndDate,\r\n        isInRange\r\n      });\r\n    }\r\n\r\n    // Agregar dÃ­as del mes siguiente para completar la Ãºltima semana\r\n    const remainingDays = 7 - (days.length % 7);\r\n    if (remainingDays < 7) {\r\n      for (let i = 1; i <= remainingDays; i++) {\r\n        const nextMonthDay = new Date(year, month + 1, i);\r\n        days.push({\r\n          date: nextMonthDay,\r\n          isCurrentMonth: false,\r\n          isToday: false,\r\n          isSelected: false\r\n        });\r\n      }\r\n    }\r\n\r\n    return days;\r\n  };\r\n\r\n  const handleDateClick = (date: Date) => {\r\n    // No permitir seleccionar fechas en el pasado\r\n    const today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n\r\n    if (date < today) {\r\n      return;\r\n    }\r\n\r\n    if (!startDate || (startDate && endDate)) {\r\n      // Si no hay fecha de inicio o ambas fechas estÃ¡n seleccionadas, establecer como nueva fecha de inicio\r\n      setStartDate(date);\r\n      setEndDate(null);\r\n      onDatesChange([date, null]);\r\n    } else {\r\n      // Si solo hay fecha de inicio, establecer como fecha de fin\r\n      if (date < startDate) {\r\n        // Si la fecha seleccionada es anterior a la fecha de inicio, intercambiarlas\r\n        setEndDate(new Date(startDate));\r\n        setStartDate(date);\r\n        onDatesChange([date, startDate]);\r\n      } else {\r\n        setEndDate(date);\r\n        onDatesChange([startDate, date]);\r\n      }\r\n    }\r\n  };\r\n\r\n  const formatMonth = (date: Date) => {\r\n    const months = [\r\n      'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',\r\n      'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'\r\n    ];\r\n    return `${months[date.getMonth()]} ${date.getFullYear()}`;\r\n  };\r\n\r\n  const changeMonth = (offset: number) => {\r\n    const newMonth = new Date(currentMonth);\r\n    newMonth.setMonth(newMonth.getMonth() + offset);\r\n    setCurrentMonth(newMonth);\r\n  };\r\n\r\n  const days = generateCalendar(currentMonth);\r\n  const weekDays = ['Dom', 'Lun', 'Mar', 'MiÃ©', 'Jue', 'Vie', 'SÃ¡b'];\r\n\r\n  const calculateDuration = (start: Date | null, end: Date | null): number => {\r\n    if (!start || !end) return 0;\r\n    const diffTime = Math.abs(end.getTime() - start.getTime());\r\n    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n  };\r\n\r\n  const formatDate = (date: Date | null): string => {\r\n    if (!date) return '';\r\n    return `${date.getDate()} ${['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic'][date.getMonth()]}`;\r\n  };\r\n\r\n  const formatDateRange = (): string => {\r\n    if (!startDate && !endDate) {\r\n      return 'Selecciona fechas';\r\n    }\r\n\r\n    const startStr = formatDate(startDate);\r\n    const endStr = formatDate(endDate);\r\n    const duration = calculateDuration(startDate, endDate);\r\n\r\n    if (startStr && endStr) {\r\n      return `${startStr} - ${endStr} Â· ${duration} noches`;\r\n    } else if (startStr) {\r\n      return `${startStr} - Selecciona fecha final`;\r\n    } else {\r\n      return 'Selecciona fechas';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.datePickerContainer}>\r\n      <TouchableOpacity\r\n        style={styles.datePickerButton}\r\n        onPress={() => setIsOpen(!isOpen)}\r\n      >\r\n        <View style={styles.datePickerContent}>\r\n          <Text style={styles.datePickerText}>{formatDateRange()}</Text>\r\n          <Ionicons name={isOpen ? 'chevron-up' : 'chevron-down'} size={24} color=\"white\" />\r\n        </View>\r\n      </TouchableOpacity>\r\n\r\n      {isOpen && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: '100%',\r\n          left: 0,\r\n          right: 0,\r\n          backgroundColor: 'white',\r\n          zIndex: 9999,\r\n          boxShadow: '0px 2px 10px rgba(0,0,0,0.1)',\r\n          borderRadius: 8,\r\n          marginTop: 4,\r\n          padding: 15,\r\n          width: 620,\r\n          marginLeft: 'auto',\r\n          marginRight: 'auto'\r\n        }}>\r\n          <div style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            marginBottom: 10\r\n          }}>\r\n            <div style={{\r\n              display: 'flex',\r\n              flexDirection: 'row',\r\n              alignItems: 'center'\r\n            }}>\r\n              <button\r\n                onClick={() => changeMonth(-1)}\r\n                style={{\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  fontSize: 24,\r\n                  cursor: 'pointer',\r\n                  color: '#005F9E'\r\n                }}\r\n              >\r\n                &larr;\r\n              </button>\r\n              <h3 style={{\r\n                margin: '0 15px',\r\n                color: '#005F9E'\r\n              }}>\r\n                {formatMonth(currentMonth)}\r\n              </h3>\r\n              <button\r\n                onClick={() => changeMonth(1)}\r\n                style={{\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  fontSize: 24,\r\n                  cursor: 'pointer',\r\n                  color: '#005F9E'\r\n                }}\r\n              >\r\n                &rarr;\r\n              </button>\r\n            </div>\r\n\r\n            <div style={{\r\n              display: 'flex',\r\n              alignItems: 'center'\r\n            }}>\r\n              <button\r\n                onClick={() => {\r\n                  setStartDate(null);\r\n                  setEndDate(null);\r\n                  onDatesChange([null, null]);\r\n                }}\r\n                style={{\r\n                  background: 'none',\r\n                  border: '1px solid #ddd',\r\n                  padding: '5px 10px',\r\n                  borderRadius: 4,\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                Limpiar\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: 'repeat(7, 1fr)',\r\n            gap: 5,\r\n            textAlign: 'center'\r\n          }}>\r\n            {weekDays.map(day => (\r\n              <div key={day} style={{\r\n                padding: 5,\r\n                fontWeight: 'bold',\r\n                color: '#666'\r\n              }}>\r\n                {day}\r\n              </div>\r\n            ))}\r\n\r\n            {days.map((day, index) => (\r\n              <div\r\n                key={index}\r\n                onClick={() => day.isCurrentMonth && handleDateClick(day.date)}\r\n                style={{\r\n                  padding: 10,\r\n                  cursor: day.isCurrentMonth ? 'pointer' : 'default',\r\n                  backgroundColor: day.isStartDate || day.isEndDate\r\n                    ? '#005F9E'\r\n                    : day.isInRange\r\n                      ? '#e5f3ff'\r\n                      : 'transparent',\r\n                  color: day.isStartDate || day.isEndDate\r\n                    ? 'white'\r\n                    : !day.isCurrentMonth\r\n                      ? '#ccc'\r\n                      : day.isToday\r\n                        ? '#005F9E'\r\n                        : '#333',\r\n                  fontWeight: day.isToday ? 'bold' : 'normal',\r\n                  borderRadius: 4,\r\n                  opacity: day.isCurrentMonth ? 1 : 0.5\r\n                }}\r\n              >\r\n                {day.date.getDate()}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst FriendSelectionModal = ({ visible, onClose, onSelect }: {\r\n  visible: boolean;\r\n  onClose: () => void;\r\n  onSelect: (friend: Friend) => void;\r\n}) => {\r\n  const [friends, setFriends] = useState<Friend[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const user = useSelector((state: RootState) => state.auth.user);\r\n\r\n  useEffect(() => {\r\n    if (visible) {\r\n      const fetchFriends = async () => {\r\n        if (!user) {\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        try {\r\n          setLoading(true);\r\n          const { data: friendData, error } = await supabase\r\n            .from('friends')\r\n            .select('user2Id')\r\n            .eq('user1Id', user.id);\r\n          if (error) throw error;\r\n\r\n          const friendDetails = await Promise.all(\r\n            friendData.map(async (friend: { user2Id: string }) => {\r\n              const { data: userData, error: userError } = await supabase\r\n                .from('users')\r\n                .select('username, points')\r\n                .eq('id', friend.user2Id)\r\n                .single();\r\n              if (userError) return null;\r\n              return {\r\n                user2Id: friend.user2Id,\r\n                username: userData.username,\r\n                points: userData.points,\r\n              };\r\n            })\r\n          );\r\n\r\n          setFriends(friendDetails.filter((f) => f !== null) as Friend[]);\r\n        } catch (error) {\r\n          console.error('Error fetching friends:', error);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      };\r\n      fetchFriends();\r\n    }\r\n  }, [visible, user]);\r\n\r\n  return (\r\n    <Modal visible={visible} animationType=\"slide\" onRequestClose={onClose} transparent>\r\n      <View style={modalStyles.modalOverlay}>\r\n        <View style={modalStyles.modalContent}>\r\n          <Text style={modalStyles.modalTitle}>Â¿Quieres compartir tu aventura?</Text>\r\n          <Text style={modalStyles.modalSubtitle}>Selecciona un amigo para compartir este viaje</Text>\r\n          {loading ? (\r\n            <ActivityIndicator size=\"large\" color=\"#4CAF50\" />\r\n          ) : (\r\n            <FlatList\r\n              data={friends}\r\n              keyExtractor={(item) => item.user2Id}\r\n              renderItem={({ item }) => (\r\n                <TouchableOpacity style={modalStyles.friendItem} onPress={() => onSelect(item)}>\r\n                  <Text style={modalStyles.friendName}>{item.username}</Text>\r\n                  <Text style={modalStyles.friendPoints}>Puntos: {item.points}</Text>\r\n                </TouchableOpacity>\r\n              )}\r\n              ListEmptyComponent={\r\n                <Text style={modalStyles.emptyText}>No tienes amigos agregados</Text>\r\n              }\r\n            />\r\n          )}\r\n          <View style={modalStyles.buttonContainer}>\r\n            <TouchableOpacity style={modalStyles.cancelButton} onPress={onClose}>\r\n              <Text style={modalStyles.cancelButtonText}>No compartir</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst modalStyles = StyleSheet.create({\r\n  modalOverlay: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(0,0,0,0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n  },\r\n  modalContent: {\r\n    width: '80%',\r\n    backgroundColor: 'white',\r\n    borderRadius: 10,\r\n    padding: 20,\r\n    maxHeight: '80%'\r\n  },\r\n  modalTitle: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center'\r\n  },\r\n  modalSubtitle: {\r\n    fontSize: 16,\r\n    color: '#666',\r\n    marginBottom: 20,\r\n    textAlign: 'center'\r\n  },\r\n  friendItem: {\r\n    padding: 15,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#eee'\r\n  },\r\n  friendName: {\r\n    fontSize: 16,\r\n    fontWeight: '500'\r\n  },\r\n  friendPoints: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    marginTop: 4\r\n  },\r\n  buttonContainer: {\r\n    marginTop: 20,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center'\r\n  },\r\n  cancelButton: {\r\n    backgroundColor: '#f44336',\r\n    padding: 12,\r\n    borderRadius: 5,\r\n    minWidth: 120,\r\n    alignItems: 'center'\r\n  },\r\n  cancelButtonText: {\r\n    color: 'white',\r\n    fontWeight: 'bold'\r\n  },\r\n  emptyText: {\r\n    textAlign: 'center',\r\n    color: '#666',\r\n    padding: 20\r\n  }\r\n});\r\n\r\nconst MapScreen = () => {\r\n  const navigation = useNavigation<NavigationProp>();\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector((state: RootState) => state.auth);\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState<City[]>([]);\r\n  const [showSearchResults, setShowSearchResults] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showCalendar, setShowCalendar] = useState(false);\r\n  const [selectedCity, setSelectedCity] = useState<City | null>(null);\r\n  const [showGlobe, setShowGlobe] = useState(false);\r\n\r\n  const formatDate = (date: Date) => {\r\n    return date.toLocaleDateString('es-ES', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  const handleSearch = async (query: string) => {\r\n    if (query.length < 2) {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const results = await searchCities(query);\r\n      setSearchResults(results);\r\n      setShowSearchResults(true);\r\n    } catch (error) {\r\n      console.error('Error searching cities:', error);\r\n      Alert.alert('Error', 'No se pudieron cargar los resultados de bÃºsqueda');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCitySelect = (city: City) => {\r\n    setSelectedCity(city);\r\n    setSearchQuery(city.name);\r\n    setShowSearchResults(false);\r\n  };\r\n\r\n  const handleDateSelect = (date: string) => {\r\n    setSelectedDate(new Date(date));\r\n    setShowCalendar(false);\r\n  };\r\n\r\n  const handleGenerateMission = async () => {\r\n    if (!selectedCity) {\r\n      Alert.alert('Error', 'Por favor selecciona una ciudad');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const mission = await generateMission(selectedCity, selectedDate);\r\n      navigation.navigate('Missions', {\r\n        journeyId: mission.id,\r\n        challenges: mission.challenges\r\n      });\r\n    } catch (error) {\r\n      console.error('Error generating mission:', error);\r\n      Alert.alert('Error', 'No se pudo generar la misiÃ³n');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.searchContainer}>\r\n        <TextInput\r\n          style={styles.searchInput}\r\n          placeholder=\"Buscar ciudad...\"\r\n          value={searchQuery}\r\n          onChangeText={(text) => {\r\n            setSearchQuery(text);\r\n            handleSearch(text);\r\n          }}\r\n        />\r\n        <TouchableOpacity\r\n          style={styles.dateButton}\r\n          onPress={() => setShowCalendar(true)}\r\n        >\r\n          <Text style={styles.dateButtonText}>\r\n            {formatDate(selectedDate)}\r\n          </Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      {showSearchResults && (\r\n        <View style={styles.searchResults}>\r\n          <FlatList\r\n            data={searchResults}\r\n            keyExtractor={(item) => item.id}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={styles.searchItem}\r\n                onPress={() => handleCitySelect(item)}\r\n              >\r\n                <Text>{item.name}</Text>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      )}\r\n\r\n      <Modal\r\n        visible={showCalendar}\r\n        animationType=\"slide\"\r\n        transparent={true}\r\n      >\r\n        <View style={styles.modalContainer}>\r\n          <View style={styles.calendarContainer}>\r\n            <Calendar\r\n              onDayPress={(day) => handleDateSelect(day.dateString)}\r\n              markedDates={{\r\n                [selectedDate.toISOString().split('T')[0]]: {\r\n                  selected: true,\r\n                  selectedColor: '#4CAF50'\r\n                }\r\n              }}\r\n            />\r\n            <TouchableOpacity\r\n              style={styles.closeButton}\r\n              onPress={() => setShowCalendar(false)}\r\n            >\r\n              <Text>Cerrar</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n\r\n      {loading ? (\r\n        <View style={styles.loadingContainer}>\r\n          <ActivityIndicator size=\"large\" color=\"#4CAF50\" />\r\n        </View>\r\n      ) : (\r\n        <View style={styles.mapContainer}>\r\n          {showGlobe ? (\r\n            <GlobeView />\r\n          ) : (\r\n            <Map\r\n              selectedCity={selectedCity}\r\n              onCitySelect={setSelectedCity}\r\n            />\r\n          )}\r\n        </View>\r\n      )}\r\n\r\n      <View style={styles.buttonContainer}>\r\n        <TouchableOpacity\r\n          style={styles.generateButton}\r\n          onPress={handleGenerateMission}\r\n          disabled={!selectedCity || loading}\r\n        >\r\n          <Text style={styles.generateButtonText}>\r\n            {loading ? 'Generando...' : 'Generar MisiÃ³n'}\r\n          </Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity\r\n          style={styles.viewToggleButton}\r\n          onPress={() => setShowGlobe(!showGlobe)}\r\n        >\r\n          <Ionicons\r\n            name={showGlobe ? 'map' : 'globe'}\r\n            size={24}\r\n            color=\"#4CAF50\"\r\n          />\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  searchContainer: {\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n    backgroundColor: '#fff',\r\n    elevation: 2,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 3,\r\n  },\r\n  searchInput: {\r\n    flex: 1,\r\n    height: 40,\r\n    borderWidth: 1,\r\n    borderColor: '#ddd',\r\n    borderRadius: 20,\r\n    paddingHorizontal: 15,\r\n    marginRight: 10,\r\n  },\r\n  dateButton: {\r\n    paddingHorizontal: 15,\r\n    height: 40,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#f5f5f5',\r\n    borderRadius: 20,\r\n  },\r\n  searchResults: {\r\n    position: 'absolute',\r\n    top: 60,\r\n    left: 10,\r\n    right: 10,\r\n    backgroundColor: '#fff',\r\n    borderRadius: 10,\r\n    elevation: 3,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 3,\r\n    maxHeight: 200,\r\n    zIndex: 1000,\r\n  },\r\n  searchItem: {\r\n    padding: 15,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#eee',\r\n  },\r\n  modalContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n  },\r\n  calendarContainer: {\r\n    backgroundColor: '#fff',\r\n    borderRadius: 10,\r\n    padding: 20,\r\n    width: '90%',\r\n  },\r\n  closeButton: {\r\n    marginTop: 10,\r\n    padding: 10,\r\n    alignItems: 'center',\r\n  },\r\n  loadingContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  mapContainer: {\r\n    flex: 1,\r\n  },\r\n  buttonContainer: {\r\n    position: 'absolute',\r\n    bottom: 20,\r\n    right: 20,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  generateButton: {\r\n    backgroundColor: '#4CAF50',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 20,\r\n    marginRight: 10,\r\n  },\r\n  generateButtonText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n  },\r\n  viewToggleButton: {\r\n    backgroundColor: '#fff',\r\n    padding: 10,\r\n    borderRadius: 20,\r\n    elevation: 2,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 3,\r\n  },\r\n  loadingCard: {\r\n    backgroundColor: '#fff',\r\n    padding: 20,\r\n    borderRadius: 10,\r\n    alignItems: 'center',\r\n    width: '80%',\r\n  },\r\n  loadingTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n  },\r\n  loadingStep: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    marginBottom: 15,\r\n  },\r\n  progressBar: {\r\n    height: 4,\r\n    width: '100%',\r\n    backgroundColor: '#eee',\r\n    borderRadius: 2,\r\n  },\r\n  progressFill: {\r\n    height: '100%',\r\n    backgroundColor: '#4CAF50',\r\n    borderRadius: 2,\r\n  },\r\n  datePickerContainer: {\r\n    backgroundColor: '#fff',\r\n    borderRadius: 10,\r\n    padding: 20,\r\n    width: '90%',\r\n  },\r\n  dateButtonText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n  },\r\n  datePickerButton: {\r\n    backgroundColor: '#fff',\r\n    padding: 15,\r\n    borderRadius: 10,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginBottom: 20,\r\n  },\r\n  datePickerContent: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  datePickerText: {\r\n    fontSize: 16,\r\n    marginLeft: 10,\r\n  },\r\n  calendarDropdown: {\r\n    position: 'absolute',\r\n    top: 60,\r\n    right: 0,\r\n    backgroundColor: '#fff',\r\n    borderRadius: 10,\r\n    padding: 10,\r\n    elevation: 5,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3,\r\n  },\r\n});\r\n\r\nexport default MapScreen; "],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}