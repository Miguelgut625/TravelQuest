{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dani\\\\TravelQuest\\\\src\\\\screens\\\\main\\\\ProfileScreen.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { logout } from '../../features/authSlice';\nimport { supabase } from '../../services/supabase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfileScreen = () => {\n  const dispatch = useDispatch();\n  const {\n    user\n  } = useSelector(state => state.auth);\n  const {\n    completedMissions\n  } = useSelector(state => state.missions);\n  const entries = useSelector(state => state.journal.entries);\n  const totalPoints = completedMissions.reduce((sum, mission) => sum + mission.points, 0);\n  const totalCities = Object.keys(entries).length;\n  const totalEntries = Object.values(entries).flat().length;\n  const [friendshipRequests, setFriendshipRequests] = useState([]);\n  const [isRequestsVisible, setIsRequestsVisible] = useState(false);\n  const [username, setUsername] = useState('');\n  const fetchFriendshipRequests = async () => {\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('friendship_invitations').select(`\n          id,\n          created_at,\n          senderId,\n          receiverId,\n          status,\n          sender:senderId (username)`).eq('receiverId', user?.id).eq('status', 'Pending');\n      if (error) throw error;\n      setFriendshipRequests(data || []);\n    } catch (error) {\n      console.error('Error al obtener solicitudes:', error);\n    }\n  };\n  const handleAcceptRequest = async id => {\n    try {\n      const {\n        data: invitation,\n        error: invitationError\n      } = await supabase.from('friendship_invitations').select('senderId, receiverId').eq('id', id).single();\n      if (invitationError) throw invitationError;\n      const {\n        senderId,\n        receiverId\n      } = invitation;\n      const {\n        error: updateError\n      } = await supabase.from('friendship_invitations').update({\n        status: 'Accepted'\n      }).eq('id', id);\n      if (updateError) throw updateError;\n      const {\n        error: insertError\n      } = await supabase.from('friends').insert([{\n        user1Id: senderId,\n        user2Id: receiverId\n      }]);\n      if (insertError) throw insertError;\n      setFriendshipRequests(prevRequests => prevRequests.filter(request => request.id !== id));\n      alert('Solicitud aceptada con éxito!');\n    } catch (error) {\n      console.error('Error al aceptar la solicitud:', error.message);\n      alert('Hubo un error al aceptar la solicitud: ' + error.message);\n    }\n  };\n  const handleRejectRequest = async id => {\n    try {\n      const {\n        error: updateError\n      } = await supabase.from('friendship_invitations').update({\n        status: 'Rejected'\n      }).eq('id', id);\n      if (updateError) throw updateError;\n      setFriendshipRequests(prevRequests => prevRequests.filter(request => request.id !== id));\n      alert('Solicitud rechazada con éxito!');\n    } catch (error) {\n      console.error('Error al rechazar la solicitud:', error.message);\n      alert('Hubo un error al rechazar la solicitud: ' + error.message);\n    }\n  };\n  const handleSendRequest = async () => {\n    try {\n      const {\n        data: user2,\n        error: userError\n      } = await supabase.from('users').select('id').eq('username', username).single();\n      if (userError) throw userError;\n      const receiverId = user2.id;\n      if (user?.id === receiverId) {\n        return alert('No puedes enviarte una solicitud a ti mismo');\n      }\n      const {\n        data: friends,\n        error: friendsError\n      } = await supabase.from('friends').select('*').or(`and(user1Id.eq.${user?.id},user2Id.eq.${receiverId}),and(user1Id.eq.${receiverId},user2Id.eq.${user?.id})`).single();\n      if (friends) {\n        return alert('Ya son amigos');\n      }\n      const {\n        data: existingRequest,\n        error: requestError\n      } = await supabase.from('friendship_invitations').select('*').or(`and(senderId.eq.${user?.id},receiverId.eq.${receiverId}),and(senderId.eq.${receiverId},receiverId.eq.${user?.id})`).eq('status', 'Pending').single();\n      if (existingRequest) {\n        return alert('Ya existe una solicitud pendiente entre estos usuarios');\n      }\n      const {\n        error\n      } = await supabase.from('friendship_invitations').insert([{\n        senderId: user?.id,\n        receiverId\n      }]);\n      if (error) throw error;\n      alert('Solicitud enviada con éxito!');\n      setUsername('');\n    } catch (error) {\n      console.error('Error al enviar la solicitud:', error.message);\n      alert('Hubo un error al enviar la solicitud: ' + error.message);\n    }\n  };\n  useEffect(() => {\n    if (user?.id) {\n      fetchFriendshipRequests();\n    }\n  }, [user]);\n  const handleLogout = () => {\n    dispatch(logout());\n  };\n  const toggleRequestsVisibility = () => {\n    setIsRequestsVisible(!isRequestsVisible);\n  };\n  return _jsxDEV(ScrollView, {\n    style: styles.container,\n    children: [_jsxDEV(View, {\n      style: styles.header,\n      children: [_jsxDEV(Image, {\n        source: user?.profilePicture ? {\n          uri: user.profilePicture\n        } : require('../../assets/icons/avatar.png'),\n        style: styles.avatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: styles.username,\n        children: user?.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: styles.email,\n        children: user?.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.statsContainer,\n      children: [_jsxDEV(View, {\n        style: styles.statCard,\n        children: [_jsxDEV(Text, {\n          style: styles.statNumber,\n          children: totalPoints\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.statLabel,\n          children: \"Puntos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.statCard,\n        children: [_jsxDEV(Text, {\n          style: styles.statNumber,\n          children: completedMissions.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.statLabel,\n          children: \"Misiones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.statCard,\n        children: [_jsxDEV(Text, {\n          style: styles.statNumber,\n          children: totalCities\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.statLabel,\n          children: \"Ciudades\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.section,\n      children: [_jsxDEV(Text, {\n        style: styles.sectionTitle,\n        children: \"Estad\\xEDsticas del Diario\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.journalStats,\n        children: [_jsxDEV(Text, {\n          style: styles.journalStat,\n          children: [\"Total de entradas: \", totalEntries]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.journalStat,\n          children: [\"Ciudades visitadas: \", totalCities]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.requestsContainer,\n      children: [_jsxDEV(TouchableOpacity, {\n        onPress: toggleRequestsVisibility,\n        children: _jsxDEV(Text, {\n          style: styles.requestsTitle,\n          children: isRequestsVisible ? 'Ocultar Solicitudes' : 'Ver Solicitudes'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), isRequestsVisible && _jsxDEV(FlatList, {\n        data: friendshipRequests,\n        keyExtractor: item => item.id,\n        renderItem: ({\n          item\n        }) => _jsxDEV(View, {\n          style: styles.requestItem,\n          children: [_jsxDEV(Text, {\n            style: styles.requestText,\n            children: [item.sender.username, \" te ha enviado una solicitud.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 17\n          }, this), _jsxDEV(TouchableOpacity, {\n            style: styles.acceptButton,\n            onPress: () => handleAcceptRequest(item.id),\n            children: _jsxDEV(Text, {\n              style: styles.acceptButtonText,\n              children: \"Aceptar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 17\n          }, this), _jsxDEV(TouchableOpacity, {\n            style: styles.rejectButton,\n            onPress: () => handleRejectRequest(item.id),\n            children: _jsxDEV(Text, {\n              style: styles.rejectButtonText,\n              children: \"Rechazar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.sendRequestContainer,\n      children: [_jsxDEV(TextInput, {\n        style: styles.input,\n        placeholder: \"Nombre de usuario\",\n        value: username,\n        onChangeText: setUsername\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), _jsxDEV(Button, {\n        title: \"Enviar Solicitud\",\n        onPress: handleSendRequest\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this), _jsxDEV(TouchableOpacity, {\n      style: styles.logoutButton,\n      onPress: handleLogout,\n      children: _jsxDEV(Text, {\n        style: styles.logoutButtonText,\n        children: \"Cerrar Sesi\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 5\n  }, this);\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5'\n  },\n  header: {\n    backgroundColor: '#4CAF50',\n    padding: 20,\n    alignItems: 'center'\n  },\n  avatar: {\n    width: 100,\n    height: 100,\n    borderRadius: 50,\n    marginBottom: 10\n  },\n  username: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n    marginBottom: 5\n  },\n  email: {\n    fontSize: 16,\n    color: 'rgba(255,255,255,0.8)'\n  },\n  statsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    padding: 20,\n    backgroundColor: 'white',\n    marginTop: -20,\n    marginHorizontal: 20,\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  statCard: {\n    alignItems: 'center'\n  },\n  statNumber: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#4CAF50'\n  },\n  statLabel: {\n    fontSize: 14,\n    color: '#666'\n  },\n  section: {\n    margin: 20\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: '#333'\n  },\n  journalStats: {\n    backgroundColor: 'white',\n    padding: 15,\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 2,\n    elevation: 3\n  },\n  journalStat: {\n    fontSize: 16,\n    color: '#666',\n    marginBottom: 5\n  },\n  logoutButton: {\n    margin: 20,\n    backgroundColor: '#f44336',\n    padding: 15,\n    borderRadius: 10,\n    alignItems: 'center'\n  },\n  logoutButtonText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  requestsContainer: {\n    marginTop: 20,\n    padding: 20,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  requestsTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    color: '#333',\n    textAlign: 'center'\n  },\n  requestItem: {\n    marginBottom: 10,\n    padding: 10,\n    backgroundColor: '#f9f9f9',\n    borderRadius: 5\n  },\n  requestText: {\n    fontSize: 16,\n    color: '#555'\n  },\n  acceptButton: {\n    backgroundColor: '#4CAF50',\n    padding: 10,\n    borderRadius: 5,\n    marginVertical: 5\n  },\n  acceptButtonText: {\n    color: 'white',\n    textAlign: 'center'\n  },\n  rejectButton: {\n    backgroundColor: '#f44336',\n    padding: 10,\n    borderRadius: 5,\n    marginVertical: 5\n  },\n  rejectButtonText: {\n    color: 'white',\n    textAlign: 'center'\n  },\n  sendRequestContainer: {\n    marginTop: 20,\n    padding: 20,\n    backgroundColor: 'white',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: '#ccc',\n    padding: 10,\n    marginBottom: 10\n  }\n});\nexport default ProfileScreen;","map":{"version":3,"names":["React","useEffect","useState","View","Text","StyleSheet","TouchableOpacity","Image","FlatList","TextInput","Button","ScrollView","useSelector","useDispatch","logout","supabase","jsxDEV","_jsxDEV","ProfileScreen","dispatch","user","state","auth","completedMissions","missions","entries","journal","totalPoints","reduce","sum","mission","points","totalCities","Object","keys","length","totalEntries","values","flat","friendshipRequests","setFriendshipRequests","isRequestsVisible","setIsRequestsVisible","username","setUsername","fetchFriendshipRequests","data","error","from","select","eq","id","console","handleAcceptRequest","invitation","invitationError","single","senderId","receiverId","updateError","update","status","insertError","insert","user1Id","user2Id","prevRequests","filter","request","alert","message","handleRejectRequest","handleSendRequest","user2","userError","friends","friendsError","or","existingRequest","requestError","handleLogout","toggleRequestsVisibility","style","styles","container","children","header","source","profilePicture","uri","require","avatar","fileName","_jsxFileName","lineNumber","columnNumber","email","statsContainer","statCard","statNumber","statLabel","section","sectionTitle","journalStats","journalStat","requestsContainer","onPress","requestsTitle","keyExtractor","item","renderItem","requestItem","requestText","sender","acceptButton","acceptButtonText","rejectButton","rejectButtonText","sendRequestContainer","input","placeholder","value","onChangeText","title","logoutButton","logoutButtonText","create","flex","backgroundColor","padding","alignItems","width","height","borderRadius","marginBottom","fontSize","fontWeight","color","flexDirection","justifyContent","marginTop","marginHorizontal","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","margin","textAlign","marginVertical","borderWidth","borderColor"],"sources":["C:/Users/Dani/TravelQuest/src/screens/main/ProfileScreen.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, Image, FlatList, TextInput, Button, ScrollView } from 'react-native';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { RootState } from '../../features/store';\r\nimport { logout } from '../../features/authSlice';\r\n// Importamos supabase directamente\r\nimport { supabase } from '../../services/supabase';\r\n\r\ninterface FriendshipRequest {\r\n  id: string;\r\n  sender: {\r\n    username: string;\r\n  };\r\n}\r\n\r\nconst ProfileScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector((state: RootState) => state.auth);\r\n  const { completedMissions } = useSelector((state: RootState) => state.missions);\r\n  const entries = useSelector((state: RootState) => state.journal.entries);\r\n\r\n  const totalPoints = completedMissions.reduce((sum, mission) => sum + mission.points, 0);\r\n  const totalCities = Object.keys(entries).length;\r\n  const totalEntries = Object.values(entries).flat().length;\r\n\r\n  const [friendshipRequests, setFriendshipRequests] = useState<FriendshipRequest[]>([]);\r\n  const [isRequestsVisible, setIsRequestsVisible] = useState(false);\r\n  const [username, setUsername] = useState('');\r\n\r\n  // Función para obtener las solicitudes de amistad directamente de Supabase\r\n  const fetchFriendshipRequests = async () => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('friendship_invitations')\r\n        .select(`\r\n          id,\r\n          created_at,\r\n          senderId,\r\n          receiverId,\r\n          status,\r\n          sender:senderId (username)`)\r\n        .eq('receiverId', user?.id)\r\n        .eq('status', 'Pending');\r\n\r\n      if (error) throw error;\r\n      \r\n      setFriendshipRequests(data || []);\r\n    } catch (error) {\r\n      console.error('Error al obtener solicitudes:', error);\r\n    }\r\n  };\r\n\r\n  const handleAcceptRequest = async (id: string) => {\r\n    try {\r\n      // Obtener la solicitud de amistad\r\n      const { data: invitation, error: invitationError } = await supabase\r\n        .from('friendship_invitations')\r\n        .select('senderId, receiverId')\r\n        .eq('id', id)\r\n        .single();\r\n\r\n      if (invitationError) throw invitationError;\r\n\r\n      const { senderId, receiverId } = invitation;\r\n\r\n      // Actualizar el estado a \"Accepted\"\r\n      const { error: updateError } = await supabase\r\n        .from('friendship_invitations')\r\n        .update({ status: 'Accepted' })\r\n        .eq('id', id);\r\n\r\n      if (updateError) throw updateError;\r\n\r\n      // Insertar en la tabla 'friends'\r\n      const { error: insertError } = await supabase\r\n        .from('friends')\r\n        .insert([{ user1Id: senderId, user2Id: receiverId }]);\r\n\r\n      if (insertError) throw insertError;\r\n\r\n      // Actualiza el estado de las solicitudes de amistad, eliminando la aceptada\r\n      setFriendshipRequests((prevRequests) => prevRequests.filter(request => request.id !== id));\r\n      alert('Solicitud aceptada con éxito!');\r\n    } catch (error: any) {\r\n      console.error('Error al aceptar la solicitud:', error.message);\r\n      alert('Hubo un error al aceptar la solicitud: ' + error.message);\r\n    }\r\n  };\r\n  \r\n  const handleRejectRequest = async (id: string) => {\r\n    try {\r\n      // Actualizar el estado a \"Rejected\"\r\n      const { error: updateError } = await supabase\r\n        .from('friendship_invitations')\r\n        .update({ status: 'Rejected' })\r\n        .eq('id', id);\r\n\r\n      if (updateError) throw updateError;\r\n\r\n      // Actualiza el estado de las solicitudes de amistad, eliminando la rechazada\r\n      setFriendshipRequests((prevRequests) => prevRequests.filter(request => request.id !== id));\r\n      alert('Solicitud rechazada con éxito!');\r\n    } catch (error: any) {\r\n      console.error('Error al rechazar la solicitud:', error.message);\r\n      alert('Hubo un error al rechazar la solicitud: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const handleSendRequest = async () => {\r\n    try {\r\n      // Obtener el receiverId a partir del username\r\n      const { data: user2, error: userError } = await supabase\r\n        .from('users')\r\n        .select('id')\r\n        .eq('username', username)\r\n        .single();\r\n\r\n      if (userError) throw userError;\r\n\r\n      const receiverId = user2.id;\r\n\r\n      // Verificar que no se está enviando una solicitud a sí mismo\r\n      if (user?.id === receiverId) {\r\n        return alert('No puedes enviarte una solicitud a ti mismo');\r\n      }\r\n\r\n      // Verificar si ya son amigos (comprobando ambas direcciones)\r\n      const { data: friends, error: friendsError } = await supabase\r\n        .from('friends')\r\n        .select('*')\r\n        .or(`and(user1Id.eq.${user?.id},user2Id.eq.${receiverId}),and(user1Id.eq.${receiverId},user2Id.eq.${user?.id})`)\r\n        .single();\r\n\r\n      if (friends) {\r\n        return alert('Ya son amigos');\r\n      }\r\n\r\n      // Verificar si ya existe una solicitud pendiente en cualquier dirección\r\n      const { data: existingRequest, error: requestError } = await supabase\r\n        .from('friendship_invitations')\r\n        .select('*')\r\n        .or(`and(senderId.eq.${user?.id},receiverId.eq.${receiverId}),and(senderId.eq.${receiverId},receiverId.eq.${user?.id})`)\r\n        .eq('status', 'Pending')\r\n        .single();\r\n\r\n      if (existingRequest) {\r\n        return alert('Ya existe una solicitud pendiente entre estos usuarios');\r\n      }\r\n\r\n      // Enviar la solicitud de amistad\r\n      const { error } = await supabase\r\n        .from('friendship_invitations')\r\n        .insert([{ senderId: user?.id, receiverId }]);\r\n\r\n      if (error) throw error;\r\n\r\n      alert('Solicitud enviada con éxito!');\r\n      setUsername(''); // Limpiar el campo después de enviar\r\n    } catch (error: any) {\r\n      console.error('Error al enviar la solicitud:', error.message);\r\n      alert('Hubo un error al enviar la solicitud: ' + error.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user?.id) {\r\n      fetchFriendshipRequests();\r\n    }\r\n  }, [user]);\r\n\r\n  const handleLogout = () => {\r\n    dispatch(logout());\r\n  };\r\n\r\n  const toggleRequestsVisibility = () => {\r\n    setIsRequestsVisible(!isRequestsVisible);\r\n  };\r\n\r\n  return (\r\n    <ScrollView style={styles.container}>\r\n      <View style={styles.header}>\r\n        <Image\r\n          source={user?.profilePicture ? { uri: user.profilePicture } : require('../../assets/icons/avatar.png')}\r\n          style={styles.avatar}\r\n        />\r\n        <Text style={styles.username}>{user?.username}</Text>\r\n        <Text style={styles.email}>{user?.email}</Text>\r\n      </View>\r\n\r\n      <View style={styles.statsContainer}>\r\n        <View style={styles.statCard}>\r\n          <Text style={styles.statNumber}>{totalPoints}</Text>\r\n          <Text style={styles.statLabel}>Puntos</Text>\r\n        </View>\r\n        <View style={styles.statCard}>\r\n          <Text style={styles.statNumber}>{completedMissions.length}</Text>\r\n          <Text style={styles.statLabel}>Misiones</Text>\r\n        </View>\r\n        <View style={styles.statCard}>\r\n          <Text style={styles.statNumber}>{totalCities}</Text>\r\n          <Text style={styles.statLabel}>Ciudades</Text>\r\n        </View>\r\n      </View>\r\n\r\n      <View style={styles.section}>\r\n        <Text style={styles.sectionTitle}>Estadísticas del Diario</Text>\r\n        <View style={styles.journalStats}>\r\n          <Text style={styles.journalStat}>Total de entradas: {totalEntries}</Text>\r\n          <Text style={styles.journalStat}>Ciudades visitadas: {totalCities}</Text>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Menú de solicitudes de amistad */}\r\n      <View style={styles.requestsContainer}>\r\n        <TouchableOpacity onPress={toggleRequestsVisibility}>\r\n          <Text style={styles.requestsTitle}>\r\n            {isRequestsVisible ? 'Ocultar Solicitudes' : 'Ver Solicitudes'}\r\n          </Text>\r\n        </TouchableOpacity>\r\n\r\n        {/* Si el estado de visibilidad es verdadero, mostramos las solicitudes */}\r\n        {isRequestsVisible && (\r\n          <FlatList\r\n            data={friendshipRequests}\r\n            keyExtractor={(item) => item.id} // Asegúrate de que id sea una cadena\r\n            renderItem={({ item }) => (\r\n              <View style={styles.requestItem}>\r\n                <Text style={styles.requestText}>\r\n                  {item.sender.username} te ha enviado una solicitud.\r\n                </Text>\r\n                <TouchableOpacity \r\n                  style={styles.acceptButton} \r\n                  onPress={() => handleAcceptRequest(item.id)} // Pasamos el id de la solicitud\r\n                >\r\n                  <Text style={styles.acceptButtonText}>Aceptar</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity \r\n                  style={styles.rejectButton}\r\n                  onPress={() => handleRejectRequest(item.id)} // Pasamos el id de la solicitud\r\n                >\r\n                  <Text style={styles.rejectButtonText}>Rechazar</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          />\r\n        )}\r\n      </View>\r\n\r\n      <View style={styles.sendRequestContainer}>\r\n        <TextInput\r\n          style={styles.input}\r\n          placeholder=\"Nombre de usuario\"\r\n          value={username}\r\n          onChangeText={setUsername}\r\n        />\r\n        <Button title=\"Enviar Solicitud\" onPress={handleSendRequest} />\r\n      </View>\r\n\r\n      <TouchableOpacity style={styles.logoutButton} onPress={handleLogout}>\r\n        <Text style={styles.logoutButtonText}>Cerrar Sesión</Text>\r\n      </TouchableOpacity>\r\n    </ScrollView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f5f5f5',\r\n  },\r\n  header: {\r\n    backgroundColor: '#4CAF50',\r\n    padding: 20,\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    width: 100,\r\n    height: 100,\r\n    borderRadius: 50,\r\n    marginBottom: 10,\r\n  },\r\n  username: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    marginBottom: 5,\r\n  },\r\n  email: {\r\n    fontSize: 16,\r\n    color: 'rgba(255,255,255,0.8)',\r\n  },\r\n  statsContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n    padding: 20,\r\n    backgroundColor: 'white',\r\n    marginTop: -20,\r\n    marginHorizontal: 20,\r\n    borderRadius: 10,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  statCard: {\r\n    alignItems: 'center',\r\n  },\r\n  statNumber: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#4CAF50',\r\n  },\r\n  statLabel: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n  },\r\n  section: {\r\n    margin: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    color: '#333',\r\n  },\r\n  journalStats: {\r\n    backgroundColor: 'white',\r\n    padding: 15,\r\n    borderRadius: 10,\r\n    shadowColor: '#000',\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 2,\r\n    elevation: 3,\r\n  },\r\n  journalStat: {\r\n    fontSize: 16,\r\n    color: '#666',\r\n    marginBottom: 5,\r\n  },\r\n  logoutButton: {\r\n    margin: 20,\r\n    backgroundColor: '#f44336',\r\n    padding: 15,\r\n    borderRadius: 10,\r\n    alignItems: 'center',\r\n  },\r\n  logoutButtonText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n  },\r\n  requestsContainer: {\r\n    marginTop: 20,\r\n    padding: 20,\r\n    backgroundColor: 'white',\r\n    borderRadius: 10,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  requestsTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    color: '#333',\r\n    textAlign: 'center',\r\n  },\r\n  requestItem: {\r\n    marginBottom: 10,\r\n    padding: 10,\r\n    backgroundColor: '#f9f9f9',\r\n    borderRadius: 5,\r\n  },\r\n  requestText: {\r\n    fontSize: 16,\r\n    color: '#555',\r\n  },\r\n  acceptButton: {\r\n    backgroundColor: '#4CAF50',\r\n    padding: 10,\r\n    borderRadius: 5,\r\n    marginVertical: 5,\r\n  },\r\n  acceptButtonText: {\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  rejectButton: {\r\n    backgroundColor: '#f44336',\r\n    padding: 10,\r\n    borderRadius: 5,\r\n    marginVertical: 5,\r\n  },\r\n  rejectButtonText: {\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  sendRequestContainer: {\r\n    marginTop: 20,\r\n    padding: 20,\r\n    backgroundColor: 'white',\r\n    borderRadius: 10,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n  },\r\n  input: {\r\n    borderWidth: 1,\r\n    borderColor: '#ccc',\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  },\r\n});\r\n\r\nexport default ProfileScreen;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,QAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,MAAA;AAAA,OAAAC,UAAA;AAEnD,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AAEtD,SAASC,MAAM,QAAQ,0BAA0B;AAEjD,SAASC,QAAQ,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AASnD,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAC1B,MAAMC,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEO;EAAK,CAAC,GAAGR,WAAW,CAAES,KAAgB,IAAKA,KAAK,CAACC,IAAI,CAAC;EAC9D,MAAM;IAAEC;EAAkB,CAAC,GAAGX,WAAW,CAAES,KAAgB,IAAKA,KAAK,CAACG,QAAQ,CAAC;EAC/E,MAAMC,OAAO,GAAGb,WAAW,CAAES,KAAgB,IAAKA,KAAK,CAACK,OAAO,CAACD,OAAO,CAAC;EAExE,MAAME,WAAW,GAAGJ,iBAAiB,CAACK,MAAM,CAAC,CAACC,GAAG,EAAEC,OAAO,KAAKD,GAAG,GAAGC,OAAO,CAACC,MAAM,EAAE,CAAC,CAAC;EACvF,MAAMC,WAAW,GAAGC,MAAM,CAACC,IAAI,CAACT,OAAO,CAAC,CAACU,MAAM;EAC/C,MAAMC,YAAY,GAAGH,MAAM,CAACI,MAAM,CAACZ,OAAO,CAAC,CAACa,IAAI,CAAC,CAAC,CAACH,MAAM;EAEzD,MAAM,CAACI,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGtC,QAAQ,CAAsB,EAAE,CAAC;EACrF,MAAM,CAACuC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGxC,QAAQ,CAAC,KAAK,CAAC;EACjE,MAAM,CAACyC,QAAQ,EAAEC,WAAW,CAAC,GAAG1C,QAAQ,CAAC,EAAE,CAAC;EAG5C,MAAM2C,uBAAuB,GAAG,MAAAA,CAAA,KAAY;IAC1C,IAAI;MACF,MAAM;QAAEC,IAAI;QAAEC;MAAM,CAAC,GAAG,MAAMhC,QAAQ,CACnCiC,IAAI,CAAC,wBAAwB,CAAC,CAC9BC,MAAM,CAAC;AAChB;AACA;AACA;AACA;AACA;AACA,qCAAqC,CAAC,CAC7BC,EAAE,CAAC,YAAY,EAAE9B,IAAI,EAAE+B,EAAE,CAAC,CAC1BD,EAAE,CAAC,QAAQ,EAAE,SAAS,CAAC;MAE1B,IAAIH,KAAK,EAAE,MAAMA,KAAK;MAEtBP,qBAAqB,CAACM,IAAI,IAAI,EAAE,CAAC;IACnC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdK,OAAO,CAACL,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACvD;EACF,CAAC;EAED,MAAMM,mBAAmB,GAAG,MAAOF,EAAU,IAAK;IAChD,IAAI;MAEF,MAAM;QAAEL,IAAI,EAAEQ,UAAU;QAAEP,KAAK,EAAEQ;MAAgB,CAAC,GAAG,MAAMxC,QAAQ,CAChEiC,IAAI,CAAC,wBAAwB,CAAC,CAC9BC,MAAM,CAAC,sBAAsB,CAAC,CAC9BC,EAAE,CAAC,IAAI,EAAEC,EAAE,CAAC,CACZK,MAAM,CAAC,CAAC;MAEX,IAAID,eAAe,EAAE,MAAMA,eAAe;MAE1C,MAAM;QAAEE,QAAQ;QAAEC;MAAW,CAAC,GAAGJ,UAAU;MAG3C,MAAM;QAAEP,KAAK,EAAEY;MAAY,CAAC,GAAG,MAAM5C,QAAQ,CAC1CiC,IAAI,CAAC,wBAAwB,CAAC,CAC9BY,MAAM,CAAC;QAAEC,MAAM,EAAE;MAAW,CAAC,CAAC,CAC9BX,EAAE,CAAC,IAAI,EAAEC,EAAE,CAAC;MAEf,IAAIQ,WAAW,EAAE,MAAMA,WAAW;MAGlC,MAAM;QAAEZ,KAAK,EAAEe;MAAY,CAAC,GAAG,MAAM/C,QAAQ,CAC1CiC,IAAI,CAAC,SAAS,CAAC,CACfe,MAAM,CAAC,CAAC;QAAEC,OAAO,EAAEP,QAAQ;QAAEQ,OAAO,EAAEP;MAAW,CAAC,CAAC,CAAC;MAEvD,IAAII,WAAW,EAAE,MAAMA,WAAW;MAGlCtB,qBAAqB,CAAE0B,YAAY,IAAKA,YAAY,CAACC,MAAM,CAACC,OAAO,IAAIA,OAAO,CAACjB,EAAE,KAAKA,EAAE,CAAC,CAAC;MAC1FkB,KAAK,CAAC,+BAA+B,CAAC;IACxC,CAAC,CAAC,OAAOtB,KAAU,EAAE;MACnBK,OAAO,CAACL,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAACuB,OAAO,CAAC;MAC9DD,KAAK,CAAC,yCAAyC,GAAGtB,KAAK,CAACuB,OAAO,CAAC;IAClE;EACF,CAAC;EAED,MAAMC,mBAAmB,GAAG,MAAOpB,EAAU,IAAK;IAChD,IAAI;MAEF,MAAM;QAAEJ,KAAK,EAAEY;MAAY,CAAC,GAAG,MAAM5C,QAAQ,CAC1CiC,IAAI,CAAC,wBAAwB,CAAC,CAC9BY,MAAM,CAAC;QAAEC,MAAM,EAAE;MAAW,CAAC,CAAC,CAC9BX,EAAE,CAAC,IAAI,EAAEC,EAAE,CAAC;MAEf,IAAIQ,WAAW,EAAE,MAAMA,WAAW;MAGlCnB,qBAAqB,CAAE0B,YAAY,IAAKA,YAAY,CAACC,MAAM,CAACC,OAAO,IAAIA,OAAO,CAACjB,EAAE,KAAKA,EAAE,CAAC,CAAC;MAC1FkB,KAAK,CAAC,gCAAgC,CAAC;IACzC,CAAC,CAAC,OAAOtB,KAAU,EAAE;MACnBK,OAAO,CAACL,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAACuB,OAAO,CAAC;MAC/DD,KAAK,CAAC,0CAA0C,GAAGtB,KAAK,CAACuB,OAAO,CAAC;IACnE;EACF,CAAC;EAED,MAAME,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI;MAEF,MAAM;QAAE1B,IAAI,EAAE2B,KAAK;QAAE1B,KAAK,EAAE2B;MAAU,CAAC,GAAG,MAAM3D,QAAQ,CACrDiC,IAAI,CAAC,OAAO,CAAC,CACbC,MAAM,CAAC,IAAI,CAAC,CACZC,EAAE,CAAC,UAAU,EAAEP,QAAQ,CAAC,CACxBa,MAAM,CAAC,CAAC;MAEX,IAAIkB,SAAS,EAAE,MAAMA,SAAS;MAE9B,MAAMhB,UAAU,GAAGe,KAAK,CAACtB,EAAE;MAG3B,IAAI/B,IAAI,EAAE+B,EAAE,KAAKO,UAAU,EAAE;QAC3B,OAAOW,KAAK,CAAC,6CAA6C,CAAC;MAC7D;MAGA,MAAM;QAAEvB,IAAI,EAAE6B,OAAO;QAAE5B,KAAK,EAAE6B;MAAa,CAAC,GAAG,MAAM7D,QAAQ,CAC1DiC,IAAI,CAAC,SAAS,CAAC,CACfC,MAAM,CAAC,GAAG,CAAC,CACX4B,EAAE,CAAC,kBAAkBzD,IAAI,EAAE+B,EAAE,eAAeO,UAAU,oBAAoBA,UAAU,eAAetC,IAAI,EAAE+B,EAAE,GAAG,CAAC,CAC/GK,MAAM,CAAC,CAAC;MAEX,IAAImB,OAAO,EAAE;QACX,OAAON,KAAK,CAAC,eAAe,CAAC;MAC/B;MAGA,MAAM;QAAEvB,IAAI,EAAEgC,eAAe;QAAE/B,KAAK,EAAEgC;MAAa,CAAC,GAAG,MAAMhE,QAAQ,CAClEiC,IAAI,CAAC,wBAAwB,CAAC,CAC9BC,MAAM,CAAC,GAAG,CAAC,CACX4B,EAAE,CAAC,mBAAmBzD,IAAI,EAAE+B,EAAE,kBAAkBO,UAAU,qBAAqBA,UAAU,kBAAkBtC,IAAI,EAAE+B,EAAE,GAAG,CAAC,CACvHD,EAAE,CAAC,QAAQ,EAAE,SAAS,CAAC,CACvBM,MAAM,CAAC,CAAC;MAEX,IAAIsB,eAAe,EAAE;QACnB,OAAOT,KAAK,CAAC,wDAAwD,CAAC;MACxE;MAGA,MAAM;QAAEtB;MAAM,CAAC,GAAG,MAAMhC,QAAQ,CAC7BiC,IAAI,CAAC,wBAAwB,CAAC,CAC9Be,MAAM,CAAC,CAAC;QAAEN,QAAQ,EAAErC,IAAI,EAAE+B,EAAE;QAAEO;MAAW,CAAC,CAAC,CAAC;MAE/C,IAAIX,KAAK,EAAE,MAAMA,KAAK;MAEtBsB,KAAK,CAAC,8BAA8B,CAAC;MACrCzB,WAAW,CAAC,EAAE,CAAC;IACjB,CAAC,CAAC,OAAOG,KAAU,EAAE;MACnBK,OAAO,CAACL,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAACuB,OAAO,CAAC;MAC7DD,KAAK,CAAC,wCAAwC,GAAGtB,KAAK,CAACuB,OAAO,CAAC;IACjE;EACF,CAAC;EAEDrE,SAAS,CAAC,MAAM;IACd,IAAImB,IAAI,EAAE+B,EAAE,EAAE;MACZN,uBAAuB,CAAC,CAAC;IAC3B;EACF,CAAC,EAAE,CAACzB,IAAI,CAAC,CAAC;EAEV,MAAM4D,YAAY,GAAGA,CAAA,KAAM;IACzB7D,QAAQ,CAACL,MAAM,CAAC,CAAC,CAAC;EACpB,CAAC;EAED,MAAMmE,wBAAwB,GAAGA,CAAA,KAAM;IACrCvC,oBAAoB,CAAC,CAACD,iBAAiB,CAAC;EAC1C,CAAC;EAED,OACExB,OAAA,CAACN,UAAU;IAACuE,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAClCpE,OAAA,CAACd,IAAI;MAAC+E,KAAK,EAAEC,MAAM,CAACG,MAAO;MAAAD,QAAA,GACzBpE,OAAA,CAACV,KAAK;QACJgF,MAAM,EAAEnE,IAAI,EAAEoE,cAAc,GAAG;UAAEC,GAAG,EAAErE,IAAI,CAACoE;QAAe,CAAC,GAAGE,OAAO,CAAC,+BAA+B,CAAE;QACvGR,KAAK,EAAEC,MAAM,CAACQ;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtB,CAAC,EACF9E,OAAA,CAACb,IAAI;QAAC8E,KAAK,EAAEC,MAAM,CAACxC,QAAS;QAAA0C,QAAA,EAAEjE,IAAI,EAAEuB;MAAQ;QAAAiD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,EACrD9E,OAAA,CAACb,IAAI;QAAC8E,KAAK,EAAEC,MAAM,CAACa,KAAM;QAAAX,QAAA,EAAEjE,IAAI,EAAE4E;MAAK;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3C,CAAC,EAEP9E,OAAA,CAACd,IAAI;MAAC+E,KAAK,EAAEC,MAAM,CAACc,cAAe;MAAAZ,QAAA,GACjCpE,OAAA,CAACd,IAAI;QAAC+E,KAAK,EAAEC,MAAM,CAACe,QAAS;QAAAb,QAAA,GAC3BpE,OAAA,CAACb,IAAI;UAAC8E,KAAK,EAAEC,MAAM,CAACgB,UAAW;UAAAd,QAAA,EAAE1D;QAAW;UAAAiE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,EACpD9E,OAAA,CAACb,IAAI;UAAC8E,KAAK,EAAEC,MAAM,CAACiB,SAAU;UAAAf,QAAA,EAAC;QAAM;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxC,CAAC,EACP9E,OAAA,CAACd,IAAI;QAAC+E,KAAK,EAAEC,MAAM,CAACe,QAAS;QAAAb,QAAA,GAC3BpE,OAAA,CAACb,IAAI;UAAC8E,KAAK,EAAEC,MAAM,CAACgB,UAAW;UAAAd,QAAA,EAAE9D,iBAAiB,CAACY;QAAM;UAAAyD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,EACjE9E,OAAA,CAACb,IAAI;UAAC8E,KAAK,EAAEC,MAAM,CAACiB,SAAU;UAAAf,QAAA,EAAC;QAAQ;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1C,CAAC,EACP9E,OAAA,CAACd,IAAI;QAAC+E,KAAK,EAAEC,MAAM,CAACe,QAAS;QAAAb,QAAA,GAC3BpE,OAAA,CAACb,IAAI;UAAC8E,KAAK,EAAEC,MAAM,CAACgB,UAAW;UAAAd,QAAA,EAAErD;QAAW;UAAA4D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,EACpD9E,OAAA,CAACb,IAAI;UAAC8E,KAAK,EAAEC,MAAM,CAACiB,SAAU;UAAAf,QAAA,EAAC;QAAQ;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAEP9E,OAAA,CAACd,IAAI;MAAC+E,KAAK,EAAEC,MAAM,CAACkB,OAAQ;MAAAhB,QAAA,GAC1BpE,OAAA,CAACb,IAAI;QAAC8E,KAAK,EAAEC,MAAM,CAACmB,YAAa;QAAAjB,QAAA,EAAC;MAAuB;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,EAChE9E,OAAA,CAACd,IAAI;QAAC+E,KAAK,EAAEC,MAAM,CAACoB,YAAa;QAAAlB,QAAA,GAC/BpE,OAAA,CAACb,IAAI;UAAC8E,KAAK,EAAEC,MAAM,CAACqB,WAAY;UAAAnB,QAAA,GAAC,qBAAmB,EAACjD,YAAY;QAAA;UAAAwD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,EACzE9E,OAAA,CAACb,IAAI;UAAC8E,KAAK,EAAEC,MAAM,CAACqB,WAAY;UAAAnB,QAAA,GAAC,sBAAoB,EAACrD,WAAW;QAAA;UAAA4D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGP9E,OAAA,CAACd,IAAI;MAAC+E,KAAK,EAAEC,MAAM,CAACsB,iBAAkB;MAAApB,QAAA,GACpCpE,OAAA,CAACX,gBAAgB;QAACoG,OAAO,EAAEzB,wBAAyB;QAAAI,QAAA,EAClDpE,OAAA,CAACb,IAAI;UAAC8E,KAAK,EAAEC,MAAM,CAACwB,aAAc;UAAAtB,QAAA,EAC/B5C,iBAAiB,GAAG,qBAAqB,GAAG;QAAiB;UAAAmD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1D;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACS,CAAC,EAGlBtD,iBAAiB,IAChBxB,OAAA,CAACT,QAAQ;QACPsC,IAAI,EAAEP,kBAAmB;QACzBqE,YAAY,EAAGC,IAAI,IAAKA,IAAI,CAAC1D,EAAG;QAChC2D,UAAU,EAAEA,CAAC;UAAED;QAAK,CAAC,KACnB5F,OAAA,CAACd,IAAI;UAAC+E,KAAK,EAAEC,MAAM,CAAC4B,WAAY;UAAA1B,QAAA,GAC9BpE,OAAA,CAACb,IAAI;YAAC8E,KAAK,EAAEC,MAAM,CAAC6B,WAAY;YAAA3B,QAAA,GAC7BwB,IAAI,CAACI,MAAM,CAACtE,QAAQ,EAAC,+BACxB;UAAA;YAAAiD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EACP9E,OAAA,CAACX,gBAAgB;YACf4E,KAAK,EAAEC,MAAM,CAAC+B,YAAa;YAC3BR,OAAO,EAAEA,CAAA,KAAMrD,mBAAmB,CAACwD,IAAI,CAAC1D,EAAE,CAAE;YAAAkC,QAAA,EAE5CpE,OAAA,CAACb,IAAI;cAAC8E,KAAK,EAAEC,MAAM,CAACgC,gBAAiB;cAAA9B,QAAA,EAAC;YAAO;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpC,CAAC,EACnB9E,OAAA,CAACX,gBAAgB;YACf4E,KAAK,EAAEC,MAAM,CAACiC,YAAa;YAC3BV,OAAO,EAAEA,CAAA,KAAMnC,mBAAmB,CAACsC,IAAI,CAAC1D,EAAE,CAAE;YAAAkC,QAAA,EAE5CpE,OAAA,CAACb,IAAI;cAAC8E,KAAK,EAAEC,MAAM,CAACkC,gBAAiB;cAAAhC,QAAA,EAAC;YAAQ;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACf;MACN;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACF;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC,EAEP9E,OAAA,CAACd,IAAI;MAAC+E,KAAK,EAAEC,MAAM,CAACmC,oBAAqB;MAAAjC,QAAA,GACvCpE,OAAA,CAACR,SAAS;QACRyE,KAAK,EAAEC,MAAM,CAACoC,KAAM;QACpBC,WAAW,EAAC,mBAAmB;QAC/BC,KAAK,EAAE9E,QAAS;QAChB+E,YAAY,EAAE9E;MAAY;QAAAgD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3B,CAAC,EACF9E,OAAA,CAACP,MAAM;QAACiH,KAAK,EAAC,kBAAkB;QAACjB,OAAO,EAAElC;MAAkB;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3D,CAAC,EAEP9E,OAAA,CAACX,gBAAgB;MAAC4E,KAAK,EAAEC,MAAM,CAACyC,YAAa;MAAClB,OAAO,EAAE1B,YAAa;MAAAK,QAAA,EAClEpE,OAAA,CAACb,IAAI;QAAC8E,KAAK,EAAEC,MAAM,CAAC0C,gBAAiB;QAAAxC,QAAA,EAAC;MAAa;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1C,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACT,CAAC;AAEjB,CAAC;AAED,MAAMZ,MAAM,GAAG9E,UAAU,CAACyH,MAAM,CAAC;EAC/B1C,SAAS,EAAE;IACT2C,IAAI,EAAE,CAAC;IACPC,eAAe,EAAE;EACnB,CAAC;EACD1C,MAAM,EAAE;IACN0C,eAAe,EAAE,SAAS;IAC1BC,OAAO,EAAE,EAAE;IACXC,UAAU,EAAE;EACd,CAAC;EACDvC,MAAM,EAAE;IACNwC,KAAK,EAAE,GAAG;IACVC,MAAM,EAAE,GAAG;IACXC,YAAY,EAAE,EAAE;IAChBC,YAAY,EAAE;EAChB,CAAC;EACD3F,QAAQ,EAAE;IACR4F,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE,MAAM;IAClBC,KAAK,EAAE,OAAO;IACdH,YAAY,EAAE;EAChB,CAAC;EACDtC,KAAK,EAAE;IACLuC,QAAQ,EAAE,EAAE;IACZE,KAAK,EAAE;EACT,CAAC;EACDxC,cAAc,EAAE;IACdyC,aAAa,EAAE,KAAK;IACpBC,cAAc,EAAE,cAAc;IAC9BV,OAAO,EAAE,EAAE;IACXD,eAAe,EAAE,OAAO;IACxBY,SAAS,EAAE,CAAC,EAAE;IACdC,gBAAgB,EAAE,EAAE;IACpBR,YAAY,EAAE,EAAE;IAChBS,WAAW,EAAE,MAAM;IACnBC,YAAY,EAAE;MACZZ,KAAK,EAAE,CAAC;MACRC,MAAM,EAAE;IACV,CAAC;IACDY,aAAa,EAAE,IAAI;IACnBC,YAAY,EAAE,IAAI;IAClBC,SAAS,EAAE;EACb,CAAC;EACDhD,QAAQ,EAAE;IACRgC,UAAU,EAAE;EACd,CAAC;EACD/B,UAAU,EAAE;IACVoC,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE,MAAM;IAClBC,KAAK,EAAE;EACT,CAAC;EACDrC,SAAS,EAAE;IACTmC,QAAQ,EAAE,EAAE;IACZE,KAAK,EAAE;EACT,CAAC;EACDpC,OAAO,EAAE;IACP8C,MAAM,EAAE;EACV,CAAC;EACD7C,YAAY,EAAE;IACZiC,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE,MAAM;IAClBF,YAAY,EAAE,EAAE;IAChBG,KAAK,EAAE;EACT,CAAC;EACDlC,YAAY,EAAE;IACZyB,eAAe,EAAE,OAAO;IACxBC,OAAO,EAAE,EAAE;IACXI,YAAY,EAAE,EAAE;IAChBS,WAAW,EAAE,MAAM;IACnBC,YAAY,EAAE;MACZZ,KAAK,EAAE,CAAC;MACRC,MAAM,EAAE;IACV,CAAC;IACDY,aAAa,EAAE,GAAG;IAClBC,YAAY,EAAE,CAAC;IACfC,SAAS,EAAE;EACb,CAAC;EACD1C,WAAW,EAAE;IACX+B,QAAQ,EAAE,EAAE;IACZE,KAAK,EAAE,MAAM;IACbH,YAAY,EAAE;EAChB,CAAC;EACDV,YAAY,EAAE;IACZuB,MAAM,EAAE,EAAE;IACVnB,eAAe,EAAE,SAAS;IAC1BC,OAAO,EAAE,EAAE;IACXI,YAAY,EAAE,EAAE;IAChBH,UAAU,EAAE;EACd,CAAC;EACDL,gBAAgB,EAAE;IAChBY,KAAK,EAAE,OAAO;IACdF,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE;EACd,CAAC;EACD/B,iBAAiB,EAAE;IACjBmC,SAAS,EAAE,EAAE;IACbX,OAAO,EAAE,EAAE;IACXD,eAAe,EAAE,OAAO;IACxBK,YAAY,EAAE,EAAE;IAChBS,WAAW,EAAE,MAAM;IACnBC,YAAY,EAAE;MAAEZ,KAAK,EAAE,CAAC;MAAEC,MAAM,EAAE;IAAE,CAAC;IACrCY,aAAa,EAAE,IAAI;IACnBC,YAAY,EAAE,IAAI;IAClBC,SAAS,EAAE;EACb,CAAC;EACDvC,aAAa,EAAE;IACb4B,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE,MAAM;IAClBF,YAAY,EAAE,EAAE;IAChBG,KAAK,EAAE,MAAM;IACbW,SAAS,EAAE;EACb,CAAC;EACDrC,WAAW,EAAE;IACXuB,YAAY,EAAE,EAAE;IAChBL,OAAO,EAAE,EAAE;IACXD,eAAe,EAAE,SAAS;IAC1BK,YAAY,EAAE;EAChB,CAAC;EACDrB,WAAW,EAAE;IACXuB,QAAQ,EAAE,EAAE;IACZE,KAAK,EAAE;EACT,CAAC;EACDvB,YAAY,EAAE;IACZc,eAAe,EAAE,SAAS;IAC1BC,OAAO,EAAE,EAAE;IACXI,YAAY,EAAE,CAAC;IACfgB,cAAc,EAAE;EAClB,CAAC;EACDlC,gBAAgB,EAAE;IAChBsB,KAAK,EAAE,OAAO;IACdW,SAAS,EAAE;EACb,CAAC;EACDhC,YAAY,EAAE;IACZY,eAAe,EAAE,SAAS;IAC1BC,OAAO,EAAE,EAAE;IACXI,YAAY,EAAE,CAAC;IACfgB,cAAc,EAAE;EAClB,CAAC;EACDhC,gBAAgB,EAAE;IAChBoB,KAAK,EAAE,OAAO;IACdW,SAAS,EAAE;EACb,CAAC;EACD9B,oBAAoB,EAAE;IACpBsB,SAAS,EAAE,EAAE;IACbX,OAAO,EAAE,EAAE;IACXD,eAAe,EAAE,OAAO;IACxBK,YAAY,EAAE,EAAE;IAChBS,WAAW,EAAE,MAAM;IACnBC,YAAY,EAAE;MAAEZ,KAAK,EAAE,CAAC;MAAEC,MAAM,EAAE;IAAE,CAAC;IACrCY,aAAa,EAAE,IAAI;IACnBC,YAAY,EAAE,IAAI;IAClBC,SAAS,EAAE;EACb,CAAC;EACD3B,KAAK,EAAE;IACL+B,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE,MAAM;IACnBtB,OAAO,EAAE,EAAE;IACXK,YAAY,EAAE;EAChB;AACF,CAAC,CAAC;AAEF,eAAepH,aAAa","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}