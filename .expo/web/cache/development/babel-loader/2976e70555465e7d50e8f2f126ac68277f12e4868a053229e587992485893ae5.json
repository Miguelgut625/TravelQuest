{"ast":null,"code":"import { supabase } from './supabase';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nexport const shareJourney = async (journeyId, ownerId, friend) => {\n  if (!journeyId) {\n    Alert.alert('Error', 'No se pudo compartir el journey porque no se encontró el ID del viaje.');\n    return false;\n  }\n  try {\n    const {\n      error\n    } = await supabase.from('journeys_shared').insert({\n      journeyId,\n      ownerId,\n      sharedWithUserId: friend.user2Id\n    });\n    if (error) throw error;\n    Alert.alert('Éxito', `Journey compartido con ${friend.username}`);\n    return true;\n  } catch (err) {\n    console.error(err);\n    Alert.alert('Error', 'No se pudo compartir el journey');\n    return false;\n  }\n};","map":{"version":3,"names":["supabase","Alert","shareJourney","journeyId","ownerId","friend","alert","error","from","insert","sharedWithUserId","user2Id","username","err","console"],"sources":["C:/Users/PC/TravelQuest/src/services/shareService.ts"],"sourcesContent":["import { supabase } from './supabase';\nimport { Alert } from 'react-native';\n\ninterface Friend {\n    user2Id: string;\n    username: string;\n    points: number;\n}\n\nexport const shareJourney = async (\n    journeyId: string,\n    ownerId: string,\n    friend: Friend\n): Promise<boolean> => {\n    if (!journeyId) {\n        Alert.alert('Error', 'No se pudo compartir el journey porque no se encontró el ID del viaje.');\n        return false;\n    }\n\n    try {\n        const { error } = await supabase\n            .from('journeys_shared')\n            .insert({\n                journeyId,\n                ownerId,\n                sharedWithUserId: friend.user2Id\n            });\n\n        if (error) throw error;\n\n        Alert.alert('Éxito', `Journey compartido con ${friend.username}`);\n        return true;\n    } catch (err) {\n        console.error(err);\n        Alert.alert('Error', 'No se pudo compartir el journey');\n        return false;\n    }\n}; "],"mappings":"AAAA,SAASA,QAAQ,QAAQ,YAAY;AAAC,OAAAC,KAAA;AAStC,OAAO,MAAMC,YAAY,GAAG,MAAAA,CACxBC,SAAiB,EACjBC,OAAe,EACfC,MAAc,KACK;EACnB,IAAI,CAACF,SAAS,EAAE;IACZF,KAAK,CAACK,KAAK,CAAC,OAAO,EAAE,wEAAwE,CAAC;IAC9F,OAAO,KAAK;EAChB;EAEA,IAAI;IACA,MAAM;MAAEC;IAAM,CAAC,GAAG,MAAMP,QAAQ,CAC3BQ,IAAI,CAAC,iBAAiB,CAAC,CACvBC,MAAM,CAAC;MACJN,SAAS;MACTC,OAAO;MACPM,gBAAgB,EAAEL,MAAM,CAACM;IAC7B,CAAC,CAAC;IAEN,IAAIJ,KAAK,EAAE,MAAMA,KAAK;IAEtBN,KAAK,CAACK,KAAK,CAAC,OAAO,EAAE,0BAA0BD,MAAM,CAACO,QAAQ,EAAE,CAAC;IACjE,OAAO,IAAI;EACf,CAAC,CAAC,OAAOC,GAAG,EAAE;IACVC,OAAO,CAACP,KAAK,CAACM,GAAG,CAAC;IAClBZ,KAAK,CAACK,KAAK,CAAC,OAAO,EAAE,iCAAiC,CAAC;IACvD,OAAO,KAAK;EAChB;AACJ,CAAC","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}