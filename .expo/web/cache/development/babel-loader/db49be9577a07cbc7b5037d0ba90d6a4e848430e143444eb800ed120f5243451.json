{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\migue\\\\miguel\\\\TravelQuest\\\\src\\\\components\\\\maps.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport MapView, { Marker, PROVIDER_GOOGLE } from 'react-native-maps';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Map = props => {\n  const [hasError, setHasError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [mapReady, setMapReady] = useState(false);\n  useEffect(() => {\n    console.log('Map props:', JSON.stringify(props, null, 2));\n    if (Platform.OS === 'android') {\n      console.log('Inicializando mapa en Android...');\n      const timeoutId = setTimeout(() => {\n        if (!mapReady) {\n          console.log('El mapa no está listo después del tiempo de espera, intentando refrescar...');\n        }\n      }, 5000);\n      return () => clearTimeout(timeoutId);\n    }\n  }, [props, mapReady]);\n  if (Platform.OS === 'web') {\n    return _jsxDEV(View, {\n      style: {\n        height: '100%',\n        width: '100%'\n      },\n      children: _jsxDEV(MapView, Object.assign({}, props, {\n        style: [{\n          height: '100%',\n          width: '100%'\n        }, props.style]\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this);\n  }\n  try {\n    if (hasError) {\n      return _jsxDEV(View, {\n        style: [styles.container, styles.errorContainer],\n        children: _jsxDEV(Text, {\n          style: styles.errorText,\n          children: errorMessage || 'Error al cargar el mapa. Por favor, verifica tu conexión.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this);\n    }\n    return _jsxDEV(View, {\n      style: styles.container,\n      children: _jsxDEV(MapView, Object.assign({\n        provider: PROVIDER_GOOGLE,\n        showsUserLocation: true,\n        showsMyLocationButton: true,\n        loadingEnabled: true,\n        loadingIndicatorColor: \"#4CAF50\",\n        loadingBackgroundColor: \"rgba(255, 255, 255, 0.5)\",\n        zoomControlEnabled: true,\n        zoomEnabled: true\n      }, props, {\n        style: [styles.map, props.style],\n        onMapReady: () => {\n          console.log('Mapa cargado correctamente');\n          setMapReady(true);\n        },\n        onRegionChangeComplete: region => {\n          console.log('Región cambiada:', region);\n          if (props.onRegionChangeComplete) {\n            props.onRegionChangeComplete(region);\n          }\n        },\n        moveOnMarkerPress: false,\n        pitchEnabled: false,\n        toolbarEnabled: false\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  } catch (error) {\n    console.error('Error renderizando el mapa:', error);\n    return _jsxDEV(View, {\n      style: [styles.container, styles.errorContainer],\n      children: _jsxDEV(Text, {\n        style: styles.errorText,\n        children: [\"Error en renderizado del mapa: \", error.message || 'Desconocido']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this);\n  }\n};\nconst styles = StyleSheet.create({\n  container: {\n    height: '100%',\n    width: '100%'\n  },\n  map: {\n    height: '100%',\n    width: '100%'\n  },\n  errorContainer: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#f5f5f5'\n  },\n  errorText: {\n    color: '#f44336',\n    textAlign: 'center',\n    padding: 20\n  }\n});\nexport const MapMarker = Marker;\nexport default Map;","map":{"version":3,"names":["React","useState","useEffect","Platform","View","StyleSheet","Text","MapView","Marker","PROVIDER_GOOGLE","jsxDEV","_jsxDEV","Map","props","hasError","setHasError","errorMessage","setErrorMessage","mapReady","setMapReady","console","log","JSON","stringify","OS","timeoutId","setTimeout","clearTimeout","style","height","width","children","Object","assign","fileName","_jsxFileName","lineNumber","columnNumber","styles","container","errorContainer","errorText","provider","showsUserLocation","showsMyLocationButton","loadingEnabled","loadingIndicatorColor","loadingBackgroundColor","zoomControlEnabled","zoomEnabled","map","onMapReady","onRegionChangeComplete","region","moveOnMarkerPress","pitchEnabled","toolbarEnabled","error","message","create","justifyContent","alignItems","backgroundColor","color","textAlign","padding","MapMarker"],"sources":["C:/Users/migue/miguel/TravelQuest/src/components/maps.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Platform, View, StyleSheet, Text } from 'react-native';\nimport MapView, { Marker, MapViewProps, PROVIDER_GOOGLE, Region } from 'react-native-maps';\n\nconst Map = (props: MapViewProps) => {\n  const [hasError, setHasError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n  const [mapReady, setMapReady] = useState(false);\n\n  useEffect(() => {\n    // Log para verificar qué propiedades se están pasando al mapa\n    console.log('Map props:', JSON.stringify(props, null, 2));\n    \n    // En Android, podemos necesitar inicializar el mapa de una manera específica\n    if (Platform.OS === 'android') {\n      console.log('Inicializando mapa en Android...');\n      \n      // Esto puede ayudar a resolver problemas con la visualización del mapa en Android\n      const timeoutId = setTimeout(() => {\n        if (!mapReady) {\n          console.log('El mapa no está listo después del tiempo de espera, intentando refrescar...');\n        }\n      }, 5000);\n      \n      return () => clearTimeout(timeoutId);\n    }\n  }, [props, mapReady]);\n\n  if (Platform.OS === 'web') {\n    return (\n      <View style={{ height: '100%', width: '100%' }}>\n        <MapView\n          {...props}\n          style={[{ height: '100%', width: '100%' }, props.style]}\n        />\n      </View>\n    );\n  }\n\n  // Usamos un componente envoltorio para capturar errores\n  try {\n    // Si ya tenemos un error, mostramos el fallback\n    if (hasError) {\n      return (\n        <View style={[styles.container, styles.errorContainer]}>\n          <Text style={styles.errorText}>\n            {errorMessage || 'Error al cargar el mapa. Por favor, verifica tu conexión.'}\n          </Text>\n        </View>\n      );\n    }\n\n    return (\n      <View style={styles.container}>\n        <MapView\n          provider={PROVIDER_GOOGLE}\n          showsUserLocation={true}\n          showsMyLocationButton={true}\n          loadingEnabled={true}\n          loadingIndicatorColor=\"#4CAF50\"\n          loadingBackgroundColor=\"rgba(255, 255, 255, 0.5)\"\n          zoomControlEnabled={true}\n          zoomEnabled={true}\n          {...props}\n          style={[styles.map, props.style]}\n          onMapReady={() => {\n            console.log('Mapa cargado correctamente');\n            setMapReady(true);\n          }}\n          onRegionChangeComplete={(region: Region) => {\n            console.log('Región cambiada:', region);\n            if (props.onRegionChangeComplete) {\n              // @ts-ignore: Manejar la diferencia en la definición de tipo\n              props.onRegionChangeComplete(region);\n            }\n          }}\n          // Configuración específica para Android para mejorar rendimiento\n          moveOnMarkerPress={false}\n          pitchEnabled={false}\n          toolbarEnabled={false}\n        />\n      </View>\n    );\n  } catch (error: any) {\n    console.error('Error renderizando el mapa:', error);\n    // Fallback si hay un error con el mapa\n    return (\n      <View style={[styles.container, styles.errorContainer]}>\n        <Text style={styles.errorText}>\n          Error en renderizado del mapa: {error.message || 'Desconocido'}\n        </Text>\n      </View>\n    );\n  }\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    height: '100%',\n    width: '100%',\n  },\n  map: {\n    height: '100%',\n    width: '100%',\n  },\n  errorContainer: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#f5f5f5',\n  },\n  errorText: {\n    color: '#f44336',\n    textAlign: 'center',\n    padding: 20,\n  },\n});\n\nexport const MapMarker = Marker;\n\nexport default Map;\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}